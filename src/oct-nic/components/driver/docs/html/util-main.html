<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Octeon PCI Driver: OCTEON PCI Host utilities</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1><a class="anchor" name="util-main">OCTEON PCI Host utilities</a></h1>The PCI base driver package includes utilities that can be run on the host system to get status information and to load binary images to OCTEON. The sources can be found at OCTEON-SDK/components/driver/host/utils. The user api library must be created before the utlities can be compiled.<p>
To compile the user-space API, you can <ul>
<li>do a "make host_api" at OCTEON-SDK/components/driver OR </li>
<li>do "make" at OCTEON-SDK/components/driver/host/api</li>
</ul>
To compile the utility sources, you can <ul>
<li>do a "make utils" at OCTEON-SDK/components/driver OR </li>
<li>do "make" at OCTEON-SDK/components/driver/host/utils</li>
</ul>
<br>
<br>
 <b>1. oct_dbg (OCTEON debug utility) </b><p>
<b>oct_dbg</b> is a menu driven utility that allows the user to reset the OCTEON device (without unloading the driver) and to read or write OCTEON registers and core memory locations. This utility requires the OCTEON user-space API library. <b>oct_dbg</b> can read the PCI config space registers, registers mapped to BAR0 and windowed NPI registers. It can also read or write OCTEON core memory locations using BAR1 mappings.<p>
Command line options: <ul>
<li>&lt;OCTEON_id&gt; - OCTEON device id (0 for the first OCTEON device). The utility prompts for device id if it finds multiple OCTEONs in the system and a device id was not passed on the command line.</li>
</ul>
Menu Options: Significant options include 't' to reset OCTEON, 'r' to read OCTEON BAR0 registers, 'R' to read OCTEON config registers.<p>
<br>
<br>
 <b>2. oct_stats (OCTEON statistics display utility) </b><p>
<b>oct_stats</b> allows the user to check on the input, output and DMA queue statistics for packet count and byte count. It also displays 10-second average byte count for input and output queues. It has options to display the driver buffer pool usage. The utility can be used to display statistics once or at user-defined intervals. "oct_stats -h" displays information about usage and available options. The OCTEON id is always required. If no other options are given, <b>oct_stats</b> will print statistics for the input and output queue refreshed at 1 second interval<p>
Command line options: <ul>
<li>&lt;OCTEON_id&gt; - OCTEON device id (0 for the first OCTEON device) [ required ] </li>
<li>&lt;interval&gt; - refresh the statistics at this interval (in seconds) [ optional ] </li>
<li>-i : display input queue statistics [optional] </li>
<li>-o : display output queue statistics [optional] </li>
<li>-c : display DMA queue statistics [optional] </li>
<li>-d : display Direct Data queue statistics [optional] </li>
<li>-b : display buffer pool statistics [optional] </li>
<li>-a : display statistics for all queues [optional] </li>
<li>-r : refresh statistics at regular intervals [optional] </li>
<li>-v : verbose output [optional] </li>
<li>-h : print usage messages </li>
</ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue Nov 22 15:41:00 2011 for Octeon PCI Driver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Octeon PCI Driver: cavium_kernel_defs.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>cavium_kernel_defs.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Host Driver: Structures &amp; functions exported by the driver for use by kernel applications. 
<p>

<p>
Definition in file <a class="el" href="cavium__kernel__defs_8h-source.html">cavium_kernel_defs.h</a>.
<p>

<p>
<a href="cavium__kernel__defs_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structocteon__recv__pkt__t.html">octeon_recv_pkt_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Receive Packet format used when dispatching output queue packets with non-raw opcodes.  <a href="structocteon__recv__pkt__t.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structocteon__recv__info__t.html">octeon_recv_info_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The first parameter of a dispatch function.  <a href="structocteon__recv__info__t.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structocteon__droq__ops__t.html">octeon_droq_ops_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by NIC module to register packet handler and to get device information for each octeon device.  <a href="structocteon__droq__ops__t.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structocteon__module__handler__t.html">octeon_module_handler_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure passed by kernel application when registering a module with the driver.  <a href="structocteon__module__handler__t.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structocteon__dma__ops__t.html">octeon_dma_ops_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used by CNTQ module to register DMA queue interrupt handler, tasklets and statistics routines for each octeon device.  <a href="structocteon__dma__ops__t.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structocteon__poll__ops__t.html">octeon_poll_ops_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure passed by kernel application when registering a poll function with the driver.  <a href="structocteon__poll__ops__t.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef int(*)&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#0306c36cd8cf1239a3c60bf619615ac4">octeon_dispatch_fn_t</a> (<a class="el" href="structocteon__recv__info__t.html">octeon_recv_info_t</a> *, void *)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="cavium__kernel__defs_8h.html#ebb6357442a2a4cd9c02d7eb68524846">oct_poll_fn_status_t</a>(*)&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#1e3b40099ecb407056887956a8a0a77f">octeon_poll_fn_t</a> (void *, unsigned long)</td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#ebb6357442a2a4cd9c02d7eb68524846">oct_poll_fn_status_t</a> { <br>
&nbsp;&nbsp;<a class="el" href="cavium__kernel__defs_8h.html#ebb6357442a2a4cd9c02d7eb685248469bfcf2d18b97b1f19e2fd68b948b8037">OCT_POLL_FN_CONTINUE</a> =  0, 
<br>
&nbsp;&nbsp;<a class="el" href="cavium__kernel__defs_8h.html#ebb6357442a2a4cd9c02d7eb6852484641568e1519aa614357551998c069e067">OCT_POLL_FN_FINISHED</a> =  1, 
<br>
&nbsp;&nbsp;<a class="el" href="cavium__kernel__defs_8h.html#ebb6357442a2a4cd9c02d7eb685248463d9a8193fbef6d2294d9cef07d0b8ec9">OCT_POLL_FN_ERROR</a> =  2, 
<br>
&nbsp;&nbsp;<a class="el" href="cavium__kernel__defs_8h.html#ebb6357442a2a4cd9c02d7eb685248464a11cf5176510a593539e80c6359a166">OCT_POLL_FN_REGISTERED</a> =  3, 
<br>
&nbsp;&nbsp;<a class="el" href="cavium__kernel__defs_8h.html#ebb6357442a2a4cd9c02d7eb685248462a7919ea1c74acd369d6ed9d8b36a9bf">OCT_POLL_FN_UNREGISTERED</a> =  4
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return value for a poll function.  <a href="cavium__kernel__defs_8h.html#ebb6357442a2a4cd9c02d7eb68524846">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#841b7c062134c49c01c057e7b4e56940">octeon_register_dispatch_fn</a> (uint32_t octeon_id, <a class="el" href="cavium__defs_8h.html#8d41fded6a84bb67fc03f366d104a875">octeon_opcode_t</a> opcode, <a class="el" href="cavium__kernel__defs_8h.html#0306c36cd8cf1239a3c60bf619615ac4">octeon_dispatch_fn_t</a> fn, void *fn_arg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register a dispatch function for a opcode.  <a href="#841b7c062134c49c01c057e7b4e56940"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#bd6295ff57cdacfdeb0c973bd1c8e8ae">octeon_unregister_dispatch_fn</a> (uint32_t octeon_id, <a class="el" href="cavium__defs_8h.html#8d41fded6a84bb67fc03f366d104a875">octeon_opcode_t</a> opcode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove registration for an opcode.  <a href="#bd6295ff57cdacfdeb0c973bd1c8e8ae"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#ed1bd12cf2a2b5c46da9d7acd57ff074">octeon_write_core_memory</a> (uint32_t octeon_id, uint64_t addr, void *buf, uint32_t len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#6a476e84aad0a27313aba36a5f788247">octeon_read_core_memory</a> (uint32_t octeon_id, uint64_t addr, void *buf, uint32_t len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#fc700114acb968a0f0012b6b36072443">get_octeon_count</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of Octeon devices currently in the system.  <a href="#fc700114acb968a0f0012b6b36072443"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#7e63bb860bf9251b6d2b9bf7ade527dc">get_octeon_device_id</a> (void *dev)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the octeon id assigned to the octeon device passed as argument.  <a href="#7e63bb860bf9251b6d2b9bf7ade527dc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#caf5adbffa0107515d2f626ae2e136d7">get_octeon_device_ptr</a> (int octeon_id)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the octeon device from the octeon id passed as argument.  <a href="#caf5adbffa0107515d2f626ae2e136d7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#31c7d5673927f7610e87d978c52fd5fb">octeon_get_tx_qsize</a> (int octeon_id, int q_no)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#6aea102981876efbc1f946d8c01e788b">octeon_get_rx_qsize</a> (int octeon_id, int q_no)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#ed642a671943c111ea191e7a6a3eeabc">octeon_map_single_buffer</a> (int octeon_id, void *virt_addr, uint32_t size, int direction)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wrapper function to map a buffer for PCI bus transaction.  <a href="#ed642a671943c111ea191e7a6a3eeabc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#04fb1874d5330b09402e9994c8ecce18">octeon_unmap_single_buffer</a> (int octeon_id, unsigned long dma_addr, uint32_t size, int direction)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wrapper function to unmap a buffer used for PCI bus transaction.  <a href="#04fb1874d5330b09402e9994c8ecce18"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#2465327bd6fc3ea3d985b32037ed3522">octeon_map_page</a> (int octeon_id, <a class="el" href="cvm__linux__types_8h.html#a20742fc3a562bab5992e5c1916f4984">cavium_page_t</a> *page, unsigned long offset, uint32_t size, int direction)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#84400f9fb7168ad0c0653b461beeae53">octeon_unmap_page</a> (int octeon_id, unsigned long dma_addr, uint32_t size, int direction)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#475933b82f554e506ee97971639e7a20">octeon_register_droq_ops</a> (int octeon_id, int q_no, <a class="el" href="structocteon__droq__ops__t.html">octeon_droq_ops_t</a> *ops)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register a change in droq operations.  <a href="#475933b82f554e506ee97971639e7a20"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#d2d8e9f5ea9a275b1d2c666f73bc9f4e">octeon_unregister_droq_ops</a> (int octeon_id, int q_no)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resets the function pointer and flag settings made by <a class="el" href="cavium__kernel__defs_8h.html#475933b82f554e506ee97971639e7a20">octeon_register_droq_ops()</a>.  <a href="#d2d8e9f5ea9a275b1d2c666f73bc9f4e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#8a63250fbe87da0502f6ada0d8717e8d">octeon_register_module_handler</a> (<a class="el" href="structocteon__module__handler__t.html">octeon_module_handler_t</a> *handler)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register module handler functions to be called by the octeon base driver when a octeon device is being initialized.  <a href="#8a63250fbe87da0502f6ada0d8717e8d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#593176f17a9e6b3b9fcf21f9b6c11634">octeon_unregister_module_handler</a> (uint32_t app_type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called by a module when it is being unloaded to unregister start and stop functions.  <a href="#593176f17a9e6b3b9fcf21f9b6c11634"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#47489d253cd376bd0d3a6e6256021ecc">octeon_reset_oq_bufsize</a> (int octeon_id, int q_no, int newsize)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#f3e017adce293f22e5c6b76f6771e305">octeon_register_poll_fn</a> (int oct_id, <a class="el" href="structocteon__poll__ops__t.html">octeon_poll_ops_t</a> *ops)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register a poll function with the driver.  <a href="#f3e017adce293f22e5c6b76f6771e305"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#7d28a9a6ead6e5b9f2925742f6d79063">octeon_unregister_poll_fn</a> (int oct_id, <a class="el" href="cavium__kernel__defs_8h.html#1e3b40099ecb407056887956a8a0a77f">octeon_poll_fn_t</a> fn, unsigned long fn_arg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unregister a poll function.  <a href="#7d28a9a6ead6e5b9f2925742f6d79063"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#0fbfa59e472d92b68abbd9066e154add">octeon_process_droq_poll_cmd</a> (int oct_id, int q_no, int cmd, uint32_t arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#49fbe3c651a8dd6f9a96eb23e4acc05b">octeon_register_noresp_buf_free_fn</a> (int oct_id, int buftype, void(*fn)(void *))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#57d2594e455258fb21ee22f550c303f0">octeon_active_dev_count</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="cavium__kernel__defs_8h.html#ac26f57e793563f2447a86135bfc8988">octeon_all_devices_active</a> (void)</td></tr>

</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="0306c36cd8cf1239a3c60bf619615ac4"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_dispatch_fn_t" ref="0306c36cd8cf1239a3c60bf619615ac4" args="(octeon_recv_info_t *, void *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* ) <a class="el" href="cavium__kernel__defs_8h.html#0306c36cd8cf1239a3c60bf619615ac4">octeon_dispatch_fn_t</a>(<a class="el" href="structocteon__recv__info__t.html">octeon_recv_info_t</a> *, void *)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="cavium__kernel__defs_8h-source.html#l00083">83</a> of file <a class="el" href="cavium__kernel__defs_8h-source.html">cavium_kernel_defs.h</a>.
</div>
</div><p>
<a class="anchor" name="1e3b40099ecb407056887956a8a0a77f"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_poll_fn_t" ref="1e3b40099ecb407056887956a8a0a77f" args="(void *, unsigned long)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="cavium__kernel__defs_8h.html#ebb6357442a2a4cd9c02d7eb68524846">oct_poll_fn_status_t</a>(* ) <a class="el" href="cavium__kernel__defs_8h.html#1e3b40099ecb407056887956a8a0a77f">octeon_poll_fn_t</a>(void *, unsigned long)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="cavium__kernel__defs_8h-source.html#l00182">182</a> of file <a class="el" href="cavium__kernel__defs_8h-source.html">cavium_kernel_defs.h</a>.
</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="ebb6357442a2a4cd9c02d7eb68524846"></a><!-- doxytag: member="cavium_kernel_defs.h::oct_poll_fn_status_t" ref="ebb6357442a2a4cd9c02d7eb68524846" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cavium__kernel__defs_8h.html#ebb6357442a2a4cd9c02d7eb68524846">oct_poll_fn_status_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return value for a poll function. 
<p>
The driver will continue scheduling the poll function as long as the function returns OCT_POLL_FN_CONTINUE. <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="ebb6357442a2a4cd9c02d7eb685248469bfcf2d18b97b1f19e2fd68b948b8037"></a><!-- doxytag: member="OCT_POLL_FN_CONTINUE" ref="ebb6357442a2a4cd9c02d7eb685248469bfcf2d18b97b1f19e2fd68b948b8037" args="" -->OCT_POLL_FN_CONTINUE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ebb6357442a2a4cd9c02d7eb6852484641568e1519aa614357551998c069e067"></a><!-- doxytag: member="OCT_POLL_FN_FINISHED" ref="ebb6357442a2a4cd9c02d7eb6852484641568e1519aa614357551998c069e067" args="" -->OCT_POLL_FN_FINISHED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ebb6357442a2a4cd9c02d7eb685248463d9a8193fbef6d2294d9cef07d0b8ec9"></a><!-- doxytag: member="OCT_POLL_FN_ERROR" ref="ebb6357442a2a4cd9c02d7eb685248463d9a8193fbef6d2294d9cef07d0b8ec9" args="" -->OCT_POLL_FN_ERROR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ebb6357442a2a4cd9c02d7eb685248464a11cf5176510a593539e80c6359a166"></a><!-- doxytag: member="OCT_POLL_FN_REGISTERED" ref="ebb6357442a2a4cd9c02d7eb685248464a11cf5176510a593539e80c6359a166" args="" -->OCT_POLL_FN_REGISTERED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="ebb6357442a2a4cd9c02d7eb685248462a7919ea1c74acd369d6ed9d8b36a9bf"></a><!-- doxytag: member="OCT_POLL_FN_UNREGISTERED" ref="ebb6357442a2a4cd9c02d7eb685248462a7919ea1c74acd369d6ed9d8b36a9bf" args="" -->OCT_POLL_FN_UNREGISTERED</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="cavium__kernel__defs_8h-source.html#l00172">172</a> of file <a class="el" href="cavium__kernel__defs_8h-source.html">cavium_kernel_defs.h</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="fc700114acb968a0f0012b6b36072443"></a><!-- doxytag: member="cavium_kernel_defs.h::get_octeon_count" ref="fc700114acb968a0f0012b6b36072443" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t get_octeon_count           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the number of Octeon devices currently in the system. 
<p>
This function is exported to other modules. <dl compact><dt><b>Returns:</b></dt><dd>Count of octeon devices. </dd></dl>

</div>
</div><p>
<a class="anchor" name="7e63bb860bf9251b6d2b9bf7ade527dc"></a><!-- doxytag: member="cavium_kernel_defs.h::get_octeon_device_id" ref="7e63bb860bf9251b6d2b9bf7ade527dc" args="(void *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_octeon_device_id           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>dev</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the octeon id assigned to the octeon device passed as argument. 
<p>
This function is exported to other modules. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>- octeon device pointer passed as a void *. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>octeon device id </dd></dl>

</div>
</div><p>
<a class="anchor" name="caf5adbffa0107515d2f626ae2e136d7"></a><!-- doxytag: member="cavium_kernel_defs.h::get_octeon_device_ptr" ref="caf5adbffa0107515d2f626ae2e136d7" args="(int octeon_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* get_octeon_device_ptr           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>octeon_id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the octeon device from the octeon id passed as argument. 
<p>
This function is exported to other modules. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>octeon_id</em>&nbsp;</td><td>- octeon device id. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>octeon device pointer as a void *. </dd></dl>

</div>
</div><p>
<a class="anchor" name="57d2594e455258fb21ee22f550c303f0"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_active_dev_count" ref="57d2594e455258fb21ee22f550c303f0" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_active_dev_count           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ac26f57e793563f2447a86135bfc8988"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_all_devices_active" ref="ac26f57e793563f2447a86135bfc8988" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_all_devices_active           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6aea102981876efbc1f946d8c01e788b"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_get_rx_qsize" ref="6aea102981876efbc1f946d8c01e788b" args="(int octeon_id, int q_no)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_get_rx_qsize           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>octeon_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>q_no</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="31c7d5673927f7610e87d978c52fd5fb"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_get_tx_qsize" ref="31c7d5673927f7610e87d978c52fd5fb" args="(int octeon_id, int q_no)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_get_tx_qsize           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>octeon_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>q_no</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="2465327bd6fc3ea3d985b32037ed3522"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_map_page" ref="2465327bd6fc3ea3d985b32037ed3522" args="(int octeon_id, cavium_page_t *page, unsigned long offset, uint32_t size, int direction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long octeon_map_page           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>octeon_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cvm__linux__types_8h.html#a20742fc3a562bab5992e5c1916f4984">cavium_page_t</a> *&nbsp;</td>
          <td class="paramname"> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>direction</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ed642a671943c111ea191e7a6a3eeabc"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_map_single_buffer" ref="ed642a671943c111ea191e7a6a3eeabc" args="(int octeon_id, void *virt_addr, uint32_t size, int direction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long octeon_map_single_buffer           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>octeon_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>virt_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>direction</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Wrapper function to map a buffer for PCI bus transaction. 
<p>

</div>
</div><p>
<a class="anchor" name="0fbfa59e472d92b68abbd9066e154add"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_process_droq_poll_cmd" ref="0fbfa59e472d92b68abbd9066e154add" args="(int oct_id, int q_no, int cmd, uint32_t arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_process_droq_poll_cmd           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>q_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6a476e84aad0a27313aba36a5f788247"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_read_core_memory" ref="6a476e84aad0a27313aba36a5f788247" args="(uint32_t octeon_id, uint64_t addr, void *buf, uint32_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void octeon_read_core_memory           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>octeon_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="841b7c062134c49c01c057e7b4e56940"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_register_dispatch_fn" ref="841b7c062134c49c01c057e7b4e56940" args="(uint32_t octeon_id, octeon_opcode_t opcode, octeon_dispatch_fn_t fn, void *fn_arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t octeon_register_dispatch_fn           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>octeon_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cavium__defs_8h.html#8d41fded6a84bb67fc03f366d104a875">octeon_opcode_t</a>&nbsp;</td>
          <td class="paramname"> <em>opcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cavium__kernel__defs_8h.html#0306c36cd8cf1239a3c60bf619615ac4">octeon_dispatch_fn_t</a>&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>fn_arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Register a dispatch function for a opcode. 
<p>
The driver will call this dispatch function when it receives a packet with the given opcode in its output queues along with the user specified argument. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>octeon_id</em>&nbsp;</td><td>- the octeon device to register with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>opcode</em>&nbsp;</td><td>- the opcode for which the dispatch will be registered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>- the dispatch function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn_arg</em>&nbsp;</td><td>- user specified that will be passed along with the dispatch function by the driver. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: 1 </dd></dl>

</div>
</div><p>
<a class="anchor" name="475933b82f554e506ee97971639e7a20"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_register_droq_ops" ref="475933b82f554e506ee97971639e7a20" args="(int octeon_id, int q_no, octeon_droq_ops_t *ops)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_register_droq_ops           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>octeon_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>q_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structocteon__droq__ops__t.html">octeon_droq_ops_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Register a change in droq operations. 
<p>
The ops field has a pointer to a function which will called by the DROQ handler for all packets arriving on output queues given by q_no irrespective of the type of packet. The ops field also has a flag which if set tells the DROQ handler to drop packets if it receives more than what it can process in one invocation of the handler. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>octeon_id</em>&nbsp;</td><td>- octeon device id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>q_no</em>&nbsp;</td><td>- octeon output queue number (0 &lt;= q_no &lt;= MAX_OCTEON_DROQ-1 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ops</em>&nbsp;</td><td>- the droq_ops settings for this queue </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>- 0 on success, -ENODEV or -EINVAL on error. </dd></dl>

</div>
</div><p>
<a class="anchor" name="8a63250fbe87da0502f6ada0d8717e8d"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_register_module_handler" ref="8a63250fbe87da0502f6ada0d8717e8d" args="(octeon_module_handler_t *handler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_register_module_handler           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structocteon__module__handler__t.html">octeon_module_handler_t</a> *&nbsp;</td>
          <td class="paramname"> <em>handler</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Register module handler functions to be called by the octeon base driver when a octeon device is being initialized. 
<p>
The "start" function in the handler may be called in this function call's context if this function is called after a octeon device was initialized. The "app_type" field is checked by the base module against the application type given by the core application in its start indicator. If it matches, the base module calls the start handler for that octeon device. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>- structure with "start" and "stop" routines and app type. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -EINVAL if the handler arguments are invalid or if a handler was already registered; -ENOMEM if no space is available to add this handler. </dd></dl>

</div>
</div><p>
<a class="anchor" name="49fbe3c651a8dd6f9a96eb23e4acc05b"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_register_noresp_buf_free_fn" ref="49fbe3c651a8dd6f9a96eb23e4acc05b" args="(int oct_id, int buftype, void(*fn)(void *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_register_noresp_buf_free_fn           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buftype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&nbsp;</td>
          <td class="paramname"> <em>fn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f3e017adce293f22e5c6b76f6771e305"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_register_poll_fn" ref="f3e017adce293f22e5c6b76f6771e305" args="(int oct_id, octeon_poll_ops_t *ops)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_register_poll_fn           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structocteon__poll__ops__t.html">octeon_poll_ops_t</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Register a poll function with the driver. 
<p>
The "ops" parameter points to a <a class="el" href="structocteon__poll__ops__t.html">octeon_poll_ops_t</a> structure that holds a pointer to the poll function, an optional argument that the driver should call if the poll function is called and the time interval in ticks that the poll function should be called. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- octeon device id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ops</em>&nbsp;</td><td>- pointer to a structure with the poll function details. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success; -ENODEV, -EINVAL or -ENOMEM on failure. </dd></dl>

</div>
</div><p>
<a class="anchor" name="47489d253cd376bd0d3a6e6256021ecc"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_reset_oq_bufsize" ref="47489d253cd376bd0d3a6e6256021ecc" args="(int octeon_id, int q_no, int newsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_reset_oq_bufsize           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>octeon_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>q_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>newsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="84400f9fb7168ad0c0653b461beeae53"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_unmap_page" ref="84400f9fb7168ad0c0653b461beeae53" args="(int octeon_id, unsigned long dma_addr, uint32_t size, int direction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void octeon_unmap_page           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>octeon_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>dma_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>direction</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="04fb1874d5330b09402e9994c8ecce18"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_unmap_single_buffer" ref="04fb1874d5330b09402e9994c8ecce18" args="(int octeon_id, unsigned long dma_addr, uint32_t size, int direction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void octeon_unmap_single_buffer           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>octeon_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>dma_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>direction</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Wrapper function to unmap a buffer used for PCI bus transaction. 
<p>

</div>
</div><p>
<a class="anchor" name="bd6295ff57cdacfdeb0c973bd1c8e8ae"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_unregister_dispatch_fn" ref="bd6295ff57cdacfdeb0c973bd1c8e8ae" args="(uint32_t octeon_id, octeon_opcode_t opcode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t octeon_unregister_dispatch_fn           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>octeon_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cavium__defs_8h.html#8d41fded6a84bb67fc03f366d104a875">octeon_opcode_t</a>&nbsp;</td>
          <td class="paramname"> <em>opcode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove registration for an opcode. 
<p>
This will delete the mapping for an opcode. The dispatch function will be unregistered and will no longer be called if a packet with the opcode arrives in the driver output queues. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>octeon_id</em>&nbsp;</td><td>- the octeon device to unregister from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>opcode</em>&nbsp;</td><td>- the opcode to be unregistered.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: 1 </dd></dl>

</div>
</div><p>
<a class="anchor" name="d2d8e9f5ea9a275b1d2c666f73bc9f4e"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_unregister_droq_ops" ref="d2d8e9f5ea9a275b1d2c666f73bc9f4e" args="(int octeon_id, int q_no)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_unregister_droq_ops           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>octeon_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>q_no</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Resets the function pointer and flag settings made by <a class="el" href="cavium__kernel__defs_8h.html#475933b82f554e506ee97971639e7a20">octeon_register_droq_ops()</a>. 
<p>
After this routine is called, the DROQ handler will lookup dispatch function for each arriving packet on the output queue given by q_no. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>octeon_id</em>&nbsp;</td><td>- octeon device id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>q_no</em>&nbsp;</td><td>- octeon output queue number (0 &lt;= q_no &lt;= MAX_OCTEON_DROQ-1 </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>- 0 on success, -ENODEV or -EINVAL on error. </dd></dl>

</div>
</div><p>
<a class="anchor" name="593176f17a9e6b3b9fcf21f9b6c11634"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_unregister_module_handler" ref="593176f17a9e6b3b9fcf21f9b6c11634" args="(uint32_t app_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_unregister_module_handler           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>app_type</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called by a module when it is being unloaded to unregister start and stop functions. 
<p>
The "stop" function will be called in this function call's context. The "stop" routine will also be called if the octeon device if being removed (due to a hot-swap operation). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>app_type</em>&nbsp;</td><td>- the handler for this applicatin type should be removed. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success; -ENODEV if no handler was found for the app_type. </dd></dl>

</div>
</div><p>
<a class="anchor" name="7d28a9a6ead6e5b9f2925742f6d79063"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_unregister_poll_fn" ref="7d28a9a6ead6e5b9f2925742f6d79063" args="(int oct_id, octeon_poll_fn_t fn, unsigned long fn_arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_unregister_poll_fn           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cavium__kernel__defs_8h.html#1e3b40099ecb407056887956a8a0a77f">octeon_poll_fn_t</a>&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>fn_arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unregister a poll function. 
<p>
The fn and fn_arg used when <a class="el" href="cavium__kernel__defs_8h.html#f3e017adce293f22e5c6b76f6771e305">octeon_register_poll_fn()</a> was called is passed as arguments to uniquely identify the instance of the poll function to be unregistered. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- octeon device id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>- the poll function to be unregistered. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn_arg</em>&nbsp;</td><td>- the poll function argument. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success; -ENODEV on failure. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ed1bd12cf2a2b5c46da9d7acd57ff074"></a><!-- doxytag: member="cavium_kernel_defs.h::octeon_write_core_memory" ref="ed1bd12cf2a2b5c46da9d7acd57ff074" args="(uint32_t octeon_id, uint64_t addr, void *buf, uint32_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void octeon_write_core_memory           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>octeon_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Tue Nov 22 15:40:59 2011 for Octeon PCI Driver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Octeon PCI Driver: octeon_user.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>octeon_user.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Host Driver: Octeon user API provided by liboctapi.a. 
<p>

<p>
Definition in file <a class="el" href="octeon__user_8h-source.html">octeon_user.h</a>.
<p>

<p>
<a href="octeon__user_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#0b1fe8de0ddc212da69e9c23ed0ce6c0">octeon_user_datatype_t</a> { <br>
&nbsp;&nbsp;<a class="el" href="octeon__user_8h.html#0b1fe8de0ddc212da69e9c23ed0ce6c0e708ad8fe853fca6cb3c8b13168fa047">DATA8</a> =  1, 
<br>
&nbsp;&nbsp;<a class="el" href="octeon__user_8h.html#0b1fe8de0ddc212da69e9c23ed0ce6c07fa327af33df07db58a5ad9b024eccc5">DATA16</a> =  2, 
<br>
&nbsp;&nbsp;<a class="el" href="octeon__user_8h.html#0b1fe8de0ddc212da69e9c23ed0ce6c08d3bccd17d4b050208bf28507747cb1a">DATA32</a> =  4
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#06c3e1e737bd3297a9c5499fa8460b17">open</a> (const char *filename, int mode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#5bbe56a416af8f77723b652362f742f7">close</a> (int fd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#9085556ba68b36b8c9af03580adadfe9">ioctl</a> (int fd, int request, void *ptr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#65714f12a316bbad8c4478508ef257a7">octeon_initialize</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Opens the octeon device file and sets the handle.  <a href="#65714f12a316bbad8c4478508ef257a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#b498bd14fca0f8775bf1b0aae931ac96">octeon_shutdown</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Closes the octeon device file.  <a href="#b498bd14fca0f8775bf1b0aae931ac96"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#76b4b20a7887316e4eaf8790dd8f5e57">octeon_hot_reset</a> (int oct_id)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Do a Hot Reset of the octeon device.  <a href="#76b4b20a7887316e4eaf8790dd8f5e57"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#6dcbd94504bc49a53cd121a9c382375c">octeon_get_dev_count</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of octeon devices currently managed by the driver.  <a href="#6dcbd94504bc49a53cd121a9c382375c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#9f7a281af1817176fd2ebfd4fd107096">octeon_send_request</a> (int oct_id, <a class="el" href="structocteon__soft__request__t.html">octeon_soft_request_t</a> *soft_req)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a request to Octeon.  <a href="#9f7a281af1817176fd2ebfd4fd107096"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#c8d9bfaa2dad9978ad93b88ca7f34ed6">octeon_query_request</a> (int oct_id, <a class="el" href="structocteon__query__request__t.html">octeon_query_request_t</a> *query)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query the status of a previously posted UNORDERED Non-blocking request.  <a href="#c8d9bfaa2dad9978ad93b88ca7f34ed6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#9de0f47327cd572c39755660ebc01454">octeon_get_stats</a> (int oct_id, <a class="el" href="structoct__stats__t.html">oct_stats_t</a> *stats)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#5a0330f117c8b47dbe5648ba4707db37">octeon_read_pcicfg_register</a> (int oct_id, uint32_t offset, uint32_t *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the Octeon PCI config register.  <a href="#5a0330f117c8b47dbe5648ba4707db37"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#84d8d3e03ad2de8afa3f2d18e382b29e">octeon_write_pcicfg_register</a> (int oct_id, uint32_t offset, uint32_t data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write to a Octeon PCI config register.  <a href="#84d8d3e03ad2de8afa3f2d18e382b29e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#39c45f92734f00975a30d1aeb067a248">octeon_get_mapping_info</a> (int oct_id, <a class="el" href="cavium__defs_8h.html#9f29abf9e75f8b37e2159819f61ec047">octeon_reg_type_t</a> type, unsigned long *mapped_address, uint32_t *mapped_size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the physical mapped address for different PCI address spaces.  <a href="#39c45f92734f00975a30d1aeb067a248"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#8589931a198645faa42f15961b86bf53">octeon_read32</a> (int oct_id, unsigned long address, uint32_t *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a 32-bit value from a Octeon PCI mapped address.  <a href="#8589931a198645faa42f15961b86bf53"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#0962ba4fcb7f933cb4b7eead31c6def1">octeon_write32</a> (int oct_id, unsigned long address, uint32_t data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a 32-bit value from a Octeon PCI mapped address.  <a href="#0962ba4fcb7f933cb4b7eead31c6def1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#750de6cf2fb836082ca3644bde24b259">octeon_read16</a> (int oct_id, unsigned long address, uint16_t *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a 16-bit value from a Octeon PCI mapped address.  <a href="#750de6cf2fb836082ca3644bde24b259"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#370ccab188c19bcf8e582c85659b5314">octeon_write16</a> (int oct_id, unsigned long address, uint16_t data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a 16-bit value from a Octeon PCI mapped address.  <a href="#370ccab188c19bcf8e582c85659b5314"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#1def8a803e443614bddb81f37f60e5ba">octeon_read8</a> (int oct_id, unsigned long address, uint8_t *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a 8-bit value from a Octeon PCI mapped address.  <a href="#1def8a803e443614bddb81f37f60e5ba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#0b5574b22a0df7a2d338ecc467bfc320">octeon_write8</a> (int oct_id, unsigned long address, uint8_t data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a 8-bit value from a Octeon PCI mapped address.  <a href="#0b5574b22a0df7a2d338ecc467bfc320"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#0cae814c59815c37cb07a187d2b5326d">octeon_win_write</a> (int oct_id, uint64_t address, uint64_t data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a 64-bit value to a 64-bit address in the Octeon PCI windowed access region.  <a href="#0cae814c59815c37cb07a187d2b5326d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#79df20ac7788785f810726c0f8700455">octeon_win_read</a> (int oct_id, uint64_t address, uint64_t *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a 64-bit value from a 64-bit address in the Octeon PCI windowed access region.  <a href="#79df20ac7788785f810726c0f8700455"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#442c172eec79f9c995f9bddabe2951b8">octeon_read_core_direct</a> (int oct_id, uint64_t core_addr, uint32_t len, void *data, uint32_t swap_mode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read "len" bytes from Octeon memory at address "core addr" and copy it into user-space memory at address "data".  <a href="#442c172eec79f9c995f9bddabe2951b8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#038103ad80994f5eab7fdc2dcdaffe7a">octeon_write_core_direct</a> (int oct_id, uint64_t core_addr, uint32_t len, void *data, uint32_t swap_mode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy "len" bytes from user-space memory at address "data" into Octeon memory at address "core addr".  <a href="#038103ad80994f5eab7fdc2dcdaffe7a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#de85b72051534476dd2b5924809336b8">octeon_read_core</a> (int oct_id, <a class="el" href="octeon__user_8h.html#0b1fe8de0ddc212da69e9c23ed0ce6c0">octeon_user_datatype_t</a> datatype, uint64_t address, void *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read 1/2/4 bytes from Octeon memory at address "address" and copy it into user-space memory at address "data".  <a href="#de85b72051534476dd2b5924809336b8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#adddf4b48f7bb73ea38810a9321b0654">octeon_write_core</a> (int oct_id, <a class="el" href="octeon__user_8h.html#0b1fe8de0ddc212da69e9c23ed0ce6c0">octeon_user_datatype_t</a> datatype, uint64_t address, void *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy 1/2/4 bytes from user-space memory at address "data" into Octeon memory at address "address".  <a href="#adddf4b48f7bb73ea38810a9321b0654"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#d65a8842cc674e3ddf69355898c0ecbf">errno</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="octeon__user_8h.html#11882feaf6d382e38136c6f1550c84e0">oct_dev_handle</a></td></tr>

</table>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="0b1fe8de0ddc212da69e9c23ed0ce6c0"></a><!-- doxytag: member="octeon_user.h::octeon_user_datatype_t" ref="0b1fe8de0ddc212da69e9c23ed0ce6c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="octeon__user_8h.html#0b1fe8de0ddc212da69e9c23ed0ce6c0">octeon_user_datatype_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="0b1fe8de0ddc212da69e9c23ed0ce6c0e708ad8fe853fca6cb3c8b13168fa047"></a><!-- doxytag: member="DATA8" ref="0b1fe8de0ddc212da69e9c23ed0ce6c0e708ad8fe853fca6cb3c8b13168fa047" args="" -->DATA8</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="0b1fe8de0ddc212da69e9c23ed0ce6c07fa327af33df07db58a5ad9b024eccc5"></a><!-- doxytag: member="DATA16" ref="0b1fe8de0ddc212da69e9c23ed0ce6c07fa327af33df07db58a5ad9b024eccc5" args="" -->DATA16</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="0b1fe8de0ddc212da69e9c23ed0ce6c08d3bccd17d4b050208bf28507747cb1a"></a><!-- doxytag: member="DATA32" ref="0b1fe8de0ddc212da69e9c23ed0ce6c08d3bccd17d4b050208bf28507747cb1a" args="" -->DATA32</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="octeon__user_8h-source.html#l00038">38</a> of file <a class="el" href="octeon__user_8h-source.html">octeon_user.h</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="5bbe56a416af8f77723b652362f742f7"></a><!-- doxytag: member="octeon_user.h::close" ref="5bbe56a416af8f77723b652362f742f7" args="(int fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void close           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9085556ba68b36b8c9af03580adadfe9"></a><!-- doxytag: member="octeon_user.h::ioctl" ref="9085556ba68b36b8c9af03580adadfe9" args="(int fd, int request, void *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ioctl           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6dcbd94504bc49a53cd121a9c382375c"></a><!-- doxytag: member="octeon_user.h::octeon_get_dev_count" ref="6dcbd94504bc49a53cd121a9c382375c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_get_dev_count           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the number of octeon devices currently managed by the driver. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Success: Count of Octeon devices. <p>
Failure: 0. </dd></dl>

</div>
</div><p>
<a class="anchor" name="39c45f92734f00975a30d1aeb067a248"></a><!-- doxytag: member="octeon_user.h::octeon_get_mapping_info" ref="39c45f92734f00975a30d1aeb067a248" args="(int oct_id, octeon_reg_type_t type, unsigned long *mapped_address, uint32_t *mapped_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_get_mapping_info           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cavium__defs_8h.html#9f29abf9e75f8b37e2159819f61ec047">octeon_reg_type_t</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&nbsp;</td>
          <td class="paramname"> <em>mapped_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>mapped_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the physical mapped address for different PCI address spaces. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- the octeon device to get the mapping for. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>- the type of mapping ((BAR0, BAR1, BAR2) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mapped_address</em>&nbsp;</td><td>- the mapped physical address is expected here. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mapped_size</em>&nbsp;</td><td>- size of the mapped region is expected here. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno if ioctl fails. </dd></dl>

</div>
</div><p>
<a class="anchor" name="9de0f47327cd572c39755660ebc01454"></a><!-- doxytag: member="octeon_user.h::octeon_get_stats" ref="9de0f47327cd572c39755660ebc01454" args="(int oct_id, oct_stats_t *stats)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_get_stats           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structoct__stats__t.html">oct_stats_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stats</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="76b4b20a7887316e4eaf8790dd8f5e57"></a><!-- doxytag: member="octeon_user.h::octeon_hot_reset" ref="76b4b20a7887316e4eaf8790dd8f5e57" args="(int oct_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_hot_reset           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Do a Hot Reset of the octeon device. 
<p>
After a Hot reset, a new application can be loaded on the octeon cores without having to restart the octeon driver module. <dl compact><dt><b>Returns:</b></dt><dd>0 if the reset was successful. <p>
errno has the reason if the reset failed. </dd></dl>

</div>
</div><p>
<a class="anchor" name="65714f12a316bbad8c4478508ef257a7"></a><!-- doxytag: member="octeon_user.h::octeon_initialize" ref="65714f12a316bbad8c4478508ef257a7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_initialize           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Opens the octeon device file and sets the handle. 
<p>
This needs to be done only once to communicate with all Octeon devices. <dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno returned by open </dd></dl>

</div>
</div><p>
<a class="anchor" name="c8d9bfaa2dad9978ad93b88ca7f34ed6"></a><!-- doxytag: member="octeon_user.h::octeon_query_request" ref="c8d9bfaa2dad9978ad93b88ca7f34ed6" args="(int oct_id, octeon_query_request_t *query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_query_request           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structocteon__query__request__t.html">octeon_query_request_t</a> *&nbsp;</td>
          <td class="paramname"> <em>query</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Query the status of a previously posted UNORDERED Non-blocking request. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- the octeon device to which the request is sent. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>- query structure which holds the request id and in which the status of the request is returned. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno returned by ioctl </dd></dl>

</div>
</div><p>
<a class="anchor" name="750de6cf2fb836082ca3644bde24b259"></a><!-- doxytag: member="octeon_user.h::octeon_read16" ref="750de6cf2fb836082ca3644bde24b259" args="(int oct_id, unsigned long address, uint16_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_read16           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a 16-bit value from a Octeon PCI mapped address. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- the octeon device to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>- the address to read from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- Address where the 16-bit value should be read into. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno if ioctl fails. </dd></dl>

</div>
</div><p>
<a class="anchor" name="8589931a198645faa42f15961b86bf53"></a><!-- doxytag: member="octeon_user.h::octeon_read32" ref="8589931a198645faa42f15961b86bf53" args="(int oct_id, unsigned long address, uint32_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_read32           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a 32-bit value from a Octeon PCI mapped address. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- the octeon device to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>- the address to read from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- Address where the 32-bit value should be read into. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno if ioctl fails. </dd></dl>

</div>
</div><p>
<a class="anchor" name="1def8a803e443614bddb81f37f60e5ba"></a><!-- doxytag: member="octeon_user.h::octeon_read8" ref="1def8a803e443614bddb81f37f60e5ba" args="(int oct_id, unsigned long address, uint8_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_read8           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a 8-bit value from a Octeon PCI mapped address. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- the octeon device to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>- the address to read from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- Address where the 8-bit value should be read into. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno if ioctl fails. </dd></dl>

</div>
</div><p>
<a class="anchor" name="de85b72051534476dd2b5924809336b8"></a><!-- doxytag: member="octeon_user.h::octeon_read_core" ref="de85b72051534476dd2b5924809336b8" args="(int oct_id, octeon_user_datatype_t datatype, uint64_t address, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_read_core           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="octeon__user_8h.html#0b1fe8de0ddc212da69e9c23ed0ce6c0">octeon_user_datatype_t</a>&nbsp;</td>
          <td class="paramname"> <em>datatype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read 1/2/4 bytes from Octeon memory at address "address" and copy it into user-space memory at address "data". 
<p>
"datatype" specifies whether the read is 1/2/4 bytes wide. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- the octeon device to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>datatype</em>&nbsp;</td><td>- specifies the number of bytes to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>- the address in the Octeon memory to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- driver returns the data read from Octeon into user-space starting at this address. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno if ioctl fails. </dd></dl>

</div>
</div><p>
<a class="anchor" name="442c172eec79f9c995f9bddabe2951b8"></a><!-- doxytag: member="octeon_user.h::octeon_read_core_direct" ref="442c172eec79f9c995f9bddabe2951b8" args="(int oct_id, uint64_t core_addr, uint32_t len, void *data, uint32_t swap_mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_read_core_direct           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>core_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>swap_mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read "len" bytes from Octeon memory at address "core addr" and copy it into user-space memory at address "data". 
<p>
Use the byte-swap mode specified by "swap_mode". <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- the octeon device to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>core_addr</em>&nbsp;</td><td>- the address in the Octeon memory to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>- number of bytes to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- driver returns the data read from Octeon into user-space starting at this address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>swap_mode</em>&nbsp;</td><td>- byte-swap mode to use. Usually is 0 (no-swap) or 1 (64-bit swap). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno if ioctl fails. </dd></dl>

</div>
</div><p>
<a class="anchor" name="5a0330f117c8b47dbe5648ba4707db37"></a><!-- doxytag: member="octeon_user.h::octeon_read_pcicfg_register" ref="5a0330f117c8b47dbe5648ba4707db37" args="(int oct_id, uint32_t offset, uint32_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_read_pcicfg_register           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read the Octeon PCI config register. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- id of octeon device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>- offset into the config space (register address). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- address where the register contents (32-bit) are to copied. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno returned by ioctl </dd></dl>

</div>
</div><p>
<a class="anchor" name="9f7a281af1817176fd2ebfd4fd107096"></a><!-- doxytag: member="octeon_user.h::octeon_send_request" ref="9f7a281af1817176fd2ebfd4fd107096" args="(int oct_id, octeon_soft_request_t *soft_req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_send_request           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structocteon__soft__request__t.html">octeon_soft_request_t</a> *&nbsp;</td>
          <td class="paramname"> <em>soft_req</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send a request to Octeon. 
<p>
The request can be in UNORDERED or NORESPONSE mode. For UNORDERED mode, both blocking (the function call blocks till it gets a response from octeon) or non-blocking (the function returns immediately). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- the octeon device to which the request is sent. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>soft_req</em>&nbsp;</td><td>- the request in <a class="el" href="structocteon__soft__request__t.html">octeon_soft_request_t</a> format. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno returned by ioctl </dd></dl>

</div>
</div><p>
<a class="anchor" name="b498bd14fca0f8775bf1b0aae931ac96"></a><!-- doxytag: member="octeon_user.h::octeon_shutdown" ref="b498bd14fca0f8775bf1b0aae931ac96" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_shutdown           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes the octeon device file. 
<p>
The user app cannot communicate with any Octeon device after this step. <dl compact><dt><b>Returns:</b></dt><dd>0 </dd></dl>

</div>
</div><p>
<a class="anchor" name="79df20ac7788785f810726c0f8700455"></a><!-- doxytag: member="octeon_user.h::octeon_win_read" ref="79df20ac7788785f810726c0f8700455" args="(int oct_id, uint64_t address, uint64_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_win_read           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a 64-bit value from a 64-bit address in the Octeon PCI windowed access region. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- the octeon device to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>- the address in the window to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- The 64-bit value read should be copied here. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno if ioctl fails. </dd></dl>

</div>
</div><p>
<a class="anchor" name="0cae814c59815c37cb07a187d2b5326d"></a><!-- doxytag: member="octeon_user.h::octeon_win_write" ref="0cae814c59815c37cb07a187d2b5326d" args="(int oct_id, uint64_t address, uint64_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_win_write           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a 64-bit value to a 64-bit address in the Octeon PCI windowed access region. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- the octeon device to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>- the address in the window to write to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- 64-bit value to write. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno if ioctl fails. </dd></dl>

</div>
</div><p>
<a class="anchor" name="370ccab188c19bcf8e582c85659b5314"></a><!-- doxytag: member="octeon_user.h::octeon_write16" ref="370ccab188c19bcf8e582c85659b5314" args="(int oct_id, unsigned long address, uint16_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_write16           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a 16-bit value from a Octeon PCI mapped address. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- the octeon device to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>- the address to write to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- 16-bit value to write. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno if ioctl fails. </dd></dl>

</div>
</div><p>
<a class="anchor" name="0962ba4fcb7f933cb4b7eead31c6def1"></a><!-- doxytag: member="octeon_user.h::octeon_write32" ref="0962ba4fcb7f933cb4b7eead31c6def1" args="(int oct_id, unsigned long address, uint32_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_write32           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a 32-bit value from a Octeon PCI mapped address. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- the octeon device to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>- the address to write to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- 32-bit value to write. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno if ioctl fails. </dd></dl>

</div>
</div><p>
<a class="anchor" name="0b5574b22a0df7a2d338ecc467bfc320"></a><!-- doxytag: member="octeon_user.h::octeon_write8" ref="0b5574b22a0df7a2d338ecc467bfc320" args="(int oct_id, unsigned long address, uint8_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_write8           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a 8-bit value from a Octeon PCI mapped address. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- the octeon device to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>- the address to write to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- 8-bit value to write. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno if ioctl fails. </dd></dl>

</div>
</div><p>
<a class="anchor" name="adddf4b48f7bb73ea38810a9321b0654"></a><!-- doxytag: member="octeon_user.h::octeon_write_core" ref="adddf4b48f7bb73ea38810a9321b0654" args="(int oct_id, octeon_user_datatype_t datatype, uint64_t address, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_write_core           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="octeon__user_8h.html#0b1fe8de0ddc212da69e9c23ed0ce6c0">octeon_user_datatype_t</a>&nbsp;</td>
          <td class="paramname"> <em>datatype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copy 1/2/4 bytes from user-space memory at address "data" into Octeon memory at address "address". 
<p>
"datatype" specifies whether the read is 1/2/4 bytes wide. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- the octeon device to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>datatype</em>&nbsp;</td><td>- specifies the number of bytes to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>- the address in the Octeon memory to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- driver copies the data from this user-space address into Octeon. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno if ioctl fails. </dd></dl>

</div>
</div><p>
<a class="anchor" name="038103ad80994f5eab7fdc2dcdaffe7a"></a><!-- doxytag: member="octeon_user.h::octeon_write_core_direct" ref="038103ad80994f5eab7fdc2dcdaffe7a" args="(int oct_id, uint64_t core_addr, uint32_t len, void *data, uint32_t swap_mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_write_core_direct           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>core_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>swap_mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copy "len" bytes from user-space memory at address "data" into Octeon memory at address "core addr". 
<p>
Use the byte-swap mode specified by "swap_mode". <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- the octeon device to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>core_addr</em>&nbsp;</td><td>- the address in the Octeon memory to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>- number of bytes to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- driver copies data from this user-space address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>swap_mode</em>&nbsp;</td><td>- byte-swap mode to use. Usually is 0 (no-swap) or 1 (64-bit swap). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno if ioctl fails. </dd></dl>

</div>
</div><p>
<a class="anchor" name="84d8d3e03ad2de8afa3f2d18e382b29e"></a><!-- doxytag: member="octeon_user.h::octeon_write_pcicfg_register" ref="84d8d3e03ad2de8afa3f2d18e382b29e" args="(int oct_id, uint32_t offset, uint32_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int octeon_write_pcicfg_register           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>oct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write to a Octeon PCI config register. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oct_id</em>&nbsp;</td><td>- id of octeon device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>- offset into the config space (register address). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- 32-bit value to be written. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Success: 0; Failure: errno returned by ioctl </dd></dl>

</div>
</div><p>
<a class="anchor" name="06c3e1e737bd3297a9c5499fa8460b17"></a><!-- doxytag: member="octeon_user.h::open" ref="06c3e1e737bd3297a9c5499fa8460b17" args="(const char *filename, int mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int open           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="d65a8842cc674e3ddf69355898c0ecbf"></a><!-- doxytag: member="octeon_user.h::errno" ref="d65a8842cc674e3ddf69355898c0ecbf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="octeon__user_8h.html#d65a8842cc674e3ddf69355898c0ecbf">errno</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="11882feaf6d382e38136c6f1550c84e0"></a><!-- doxytag: member="octeon_user.h::oct_dev_handle" ref="11882feaf6d382e38136c6f1550c84e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="octeon__user_8h.html#11882feaf6d382e38136c6f1550c84e0">oct_dev_handle</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Tue Nov 22 15:41:00 2011 for Octeon PCI Driver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Octeon PCI Driver: cavium_defs.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>cavium_defs.h</h1><a href="cavium__defs_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment"></span>
<a name="l00002"></a>00002 <span class="comment">/*! \file  cavium_defs.h</span>
<a name="l00003"></a>00003 <span class="comment">    \brief Host Driver: Instruction field formats, soft request format and</span>
<a name="l00004"></a>00004 <span class="comment">                        macros to operate on its fields, Swap macros.</span>
<a name="l00005"></a>00005 <span class="comment">     The Octeon Hardware Manual should be referred to understand the </span>
<a name="l00006"></a>00006 <span class="comment">     structures and macros defined here.</span>
<a name="l00007"></a>00007 <span class="comment">*/</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="preprocessor">#ifndef _CAVIUM_DEFS_H</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span><span class="preprocessor">#define _CAVIUM_DEFS_H</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="preprocessor">#include "<a class="code" href="octeon-error_8h.html">octeon-error.h</a>"</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include "<a class="code" href="octeon__stats_8h.html">octeon_stats.h</a>"</span>
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="comment">/* This flag is disabled by default.</span>
<a name="l00020"></a>00020 <span class="comment">   Enable this flag to support the deprecated octeon_soft_request_t structure.</span>
<a name="l00021"></a>00021 <span class="comment">   It is advised to move to the new structure definition available in this file.</span>
<a name="l00022"></a>00022 <span class="comment">   The deprecated structure definition is in "cavium_deprecated.h".</span>
<a name="l00023"></a>00023 <span class="comment">*/</span>
<a name="l00024"></a>00024 <span class="comment">//#define   CVM_SUPPORT_DEPRECATED_API</span>
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="comment">/* Using the deprecated octeon_soft_request structure will print warnings during</span>
<a name="l00028"></a>00028 <span class="comment">   compilation. If you wish to continue using the deprecated API, enable this</span>
<a name="l00029"></a>00029 <span class="comment">   flag to suppress the warning messages.</span>
<a name="l00030"></a>00030 <span class="comment">*/</span>
<a name="l00031"></a>00031 <span class="comment">//#define   CVM_SUPPRESS_DEPRECATED_WARNINGS</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="comment"></span>
<a name="l00036"></a>00036 <span class="comment">/** Maximum buffers in inbuf/outbuf. This value can be changed to be</span>
<a name="l00037"></a>00037 <span class="comment">    greater for user-space applications provided the data size </span>
<a name="l00038"></a>00038 <span class="comment">    constraints described below are met. */</span>
<a name="l00039"></a>00039 <span class="preprocessor">#define MAX_BUFCNT         16</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span>
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 <span class="comment">/* Maximum scatter pointers supported by Octeon Hardware for a single DMA</span>
<a name="l00043"></a>00043 <span class="comment">   operation. Currently the core driver uses a single PCI DMA transaction</span>
<a name="l00044"></a>00044 <span class="comment">   for a scatter response. */</span>
<a name="l00045"></a>00045 <span class="preprocessor">#define MAX_SCATTER_PTRS   13</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span>
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="comment">/***----- DIRECT DMA:  Input &amp; Output Data Size Constraints -------****/</span>
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="comment">/* The maximum data size that can be sent or received in a single buffer</span>
<a name="l00052"></a>00052 <span class="comment">   by Octeon is determined by the dlengsz field in dptr &amp; rlenssz field</span>
<a name="l00053"></a>00053 <span class="comment">   in rptr both of which are 14-bits allowing 16K - 1 bytes.</span>
<a name="l00054"></a>00054 <span class="comment">*/</span>
<a name="l00055"></a>00055 <span class="preprocessor">#define    OCT_MAX_DIRECT_DMA_SIZE           ((16 * 1024) - 1)</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span>
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="comment">/* This constant is for backward compatibility. */</span>
<a name="l00060"></a>00060 <span class="preprocessor">#define    OCT_MAX_DIRECT_DATA_SIZE          (OCT_MAX_DIRECT_DMA_SIZE)</span>
<a name="l00061"></a>00061 <span class="preprocessor"></span>
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 <span class="comment">/* The maximum data bytes that can be sent from host to Octeon is the</span>
<a name="l00064"></a>00064 <span class="comment">   maximum that the Octeon Hardware allows - the instruction bytes that</span>
<a name="l00065"></a>00065 <span class="comment">   get added in the WQE packet data for RAW instructions. */</span>
<a name="l00066"></a>00066 <span class="preprocessor">#define    OCT_MAX_DIRECT_INPUT_DATA_SIZE    (OCT_MAX_DIRECT_DATA_SIZE - 24)</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span>
<a name="l00068"></a>00068 
<a name="l00069"></a>00069 <span class="comment">/* The maximum data that can be output is 16 bytes less then max input</span>
<a name="l00070"></a>00070 <span class="comment">   size, since 16 bytes are reserved for ORH and status bytes in the</span>
<a name="l00071"></a>00071 <span class="comment">   response from Octeon cores to host.*/</span>
<a name="l00072"></a>00072 <span class="preprocessor">#define    OCT_MAX_DIRECT_OUTPUT_DATA_SIZE   (OCT_MAX_DIRECT_DATA_SIZE - 16)</span>
<a name="l00073"></a>00073 <span class="preprocessor"></span>
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 <span class="comment">/* This value is currently used by driver to split user-space output buffers</span>
<a name="l00077"></a>00077 <span class="comment">   efficiently.</span>
<a name="l00078"></a>00078 <span class="comment">*/</span>
<a name="l00079"></a>00079 <span class="preprocessor">#define    OCT_MAX_USER_BUF_SIZE              (OCT_MAX_DIRECT_DMA_SIZE)</span>
<a name="l00080"></a>00080 <span class="preprocessor"></span>
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 <span class="comment">/***----- CN38XX Errata PCI-500: DMA component length limitation ----***/</span>
<a name="l00083"></a>00083 <span class="preprocessor">#define   OCT_MAX_COMP_BUF_LEN              ((64 * 1024) - 8)</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span>
<a name="l00085"></a>00085 
<a name="l00086"></a>00086 <span class="comment">/***----- GATHER DMA: Input Data Size Constraints -------****/</span>
<a name="l00087"></a>00087 
<a name="l00088"></a>00088 <span class="comment">/* The maximum data size that can be sent in GATHER DMA is determined by </span>
<a name="l00089"></a>00089 <span class="comment">   the WQE length field which is 16-bits allowing 64K -1 (65535) bytes.</span>
<a name="l00090"></a>00090 <span class="comment">*/</span>
<a name="l00091"></a>00091 <span class="preprocessor">#define    OCT_MAX_GATHER_DMA_SIZE           ((64 * 1024) - 1)</span>
<a name="l00092"></a>00092 <span class="preprocessor"></span>
<a name="l00093"></a>00093 
<a name="l00094"></a>00094 <span class="comment">/* Octeon PASS3 Errata PCI-500 limits each gather buffer to 65528 bytes.</span>
<a name="l00095"></a>00095 <span class="comment">   This is not checked by the driver since the maximum gather data allowed from </span>
<a name="l00096"></a>00096 <span class="comment">   user or kernel process (defined by OCT_MAX_GATHER_DATA_SIZE below) is less</span>
<a name="l00097"></a>00097 <span class="comment">   than this value. The driver does check for OCT_MAX_GATHER_DATA_SIZE.</span>
<a name="l00098"></a>00098 <span class="comment">*/</span>
<a name="l00099"></a>00099 <span class="preprocessor">#define    OCT_MAX_GATHER_BUFFER_SIZE         ((64 * 1024) - 8)</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span>
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 <span class="comment">/*</span>
<a name="l00103"></a>00103 <span class="comment">   When sending an instruction, however another 24 bytes of front data</span>
<a name="l00104"></a>00104 <span class="comment">   get added from the instruction, so make allowance for that too.</span>
<a name="l00105"></a>00105 <span class="comment">*/</span>
<a name="l00106"></a>00106 <span class="preprocessor">#define    OCT_MAX_GATHER_DATA_SIZE          (OCT_MAX_GATHER_DMA_SIZE - 24)</span>
<a name="l00107"></a>00107 <span class="preprocessor"></span>
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 
<a name="l00110"></a>00110 
<a name="l00111"></a>00111 
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 <span class="comment">/***----- SCATTER DMA: Output Data Size Constraints -------****/</span>
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 <span class="comment">/* The Octeon PCI DMA engine allows upto 14 local (octeon memory) buffers</span>
<a name="l00118"></a>00118 <span class="comment"> * to be used to send a DMA response. Each buffer can have a maximum size</span>
<a name="l00119"></a>00119 <span class="comment"> * of (8K - 8). This gives a total of 14 * 8184 = 114576 bytes.</span>
<a name="l00120"></a>00120 <span class="comment"> * See Octeon CN38XX PASS3 Errata PCI-500.</span>
<a name="l00121"></a>00121 <span class="comment"> */</span>
<a name="l00122"></a>00122 <span class="preprocessor">#define    OCT_MAX_SCATTER_DMA_SIZE          (14 * 8184)</span>
<a name="l00123"></a>00123 <span class="preprocessor"></span>
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 <span class="comment">/* Since 16 bytes are reserved for ORH and status, the actual response </span>
<a name="l00126"></a>00126 <span class="comment"> * data size is 16 bytes lesser.</span>
<a name="l00127"></a>00127 <span class="comment"> */</span>
<a name="l00128"></a>00128 <span class="preprocessor">#define    OCT_MAX_SCATTER_DATA_SIZE         (OCT_MAX_SCATTER_DMA_SIZE - 16)</span>
<a name="l00129"></a>00129 <span class="preprocessor"></span>
<a name="l00130"></a>00130 
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 
<a name="l00136"></a>00136 
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 
<a name="l00139"></a>00139 
<a name="l00140"></a>00140 <span class="preprocessor">#define ENDIAN_SWAP_8_BYTE(_i) \</span>
<a name="l00141"></a>00141 <span class="preprocessor">  ((((((uint64_t)(_i)) &gt;&gt;  0) &amp; (uint64_t)0xff) &lt;&lt; 56) | \</span>
<a name="l00142"></a>00142 <span class="preprocessor">   (((((uint64_t)(_i)) &gt;&gt;  8) &amp; (uint64_t)0xff) &lt;&lt; 48) | \</span>
<a name="l00143"></a>00143 <span class="preprocessor">   (((((uint64_t)(_i)) &gt;&gt; 16) &amp; (uint64_t)0xff) &lt;&lt; 40) | \</span>
<a name="l00144"></a>00144 <span class="preprocessor">   (((((uint64_t)(_i)) &gt;&gt; 24) &amp; (uint64_t)0xff) &lt;&lt; 32) | \</span>
<a name="l00145"></a>00145 <span class="preprocessor">   (((((uint64_t)(_i)) &gt;&gt; 32) &amp; (uint64_t)0xff) &lt;&lt; 24) | \</span>
<a name="l00146"></a>00146 <span class="preprocessor">   (((((uint64_t)(_i)) &gt;&gt; 40) &amp; (uint64_t)0xff) &lt;&lt; 16) | \</span>
<a name="l00147"></a>00147 <span class="preprocessor">   (((((uint64_t)(_i)) &gt;&gt; 48) &amp; (uint64_t)0xff) &lt;&lt;  8) | \</span>
<a name="l00148"></a>00148 <span class="preprocessor">   (((((uint64_t)(_i)) &gt;&gt; 56) &amp; (uint64_t)0xff) &lt;&lt;  0))</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span>
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 <span class="preprocessor">#define ENDIAN_SWAP_4_BYTE(_i) \</span>
<a name="l00152"></a>00152 <span class="preprocessor">    ((((uint32_t)(_i)) &amp; 0xff000000) &gt;&gt; 24) | \</span>
<a name="l00153"></a>00153 <span class="preprocessor">   ((((uint32_t)(_i)) &amp; 0x00ff0000) &gt;&gt;  8) | \</span>
<a name="l00154"></a>00154 <span class="preprocessor">   ((((uint32_t)(_i)) &amp; 0x0000ff00) &lt;&lt;  8) | \</span>
<a name="l00155"></a>00155 <span class="preprocessor">   ((((uint32_t)(_i)) &amp; 0x000000ff) &lt;&lt; 24)</span>
<a name="l00156"></a>00156 <span class="preprocessor"></span>
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 
<a name="l00159"></a>00159 <span class="preprocessor">#define ENDIAN_SWAP_2_BYTE(_i) \</span>
<a name="l00160"></a>00160 <span class="preprocessor">      ((((uint16_t)(_i)) &amp; 0xff00) &gt;&gt; 8) | \</span>
<a name="l00161"></a>00161 <span class="preprocessor">     ((((uint16_t)(_i)) &amp; 0x00ff) &lt;&lt; 8)</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span>
<a name="l00163"></a>00163 
<a name="l00164"></a>00164 <span class="preprocessor">#if defined(__CAVIUM_BYTE_ORDER)</span>
<a name="l00165"></a>00165 <span class="preprocessor"></span><span class="preprocessor">   #if __CAVIUM_BYTE_ORDER == __CAVIUM_LITTLE_ENDIAN</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span><span class="preprocessor">      #define OCTEON_SWAP_DATA_BYTES</span>
<a name="l00167"></a>00167 <span class="preprocessor"></span><span class="preprocessor">   #endif</span>
<a name="l00168"></a>00168 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00169"></a>00169 <span class="preprocessor"></span><span class="preprocessor">#error Undefined __CAVIUM_BYTE_ORDER</span>
<a name="l00170"></a>00170 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/*#if __CAVIUM_BYTE_ORDER == __CAVIUM_BIG_ENDIAN */</span>
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 
<a name="l00173"></a>00173 
<a name="l00174"></a>00174 <span class="comment"></span>
<a name="l00175"></a>00175 <span class="comment">/** Swap 8B blocks */</span>
<a name="l00176"></a>00176 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l00177"></a><a class="code" href="cavium__defs_8h.html#9c043fbcb0d1719e569579c76406b383">00177</a> <a class="code" href="cavium__defs_8h.html#9c043fbcb0d1719e569579c76406b383">octeon_swap_8B_data</a>(uint64_t *data, uint32_t blocks)
<a name="l00178"></a>00178 {
<a name="l00179"></a>00179 <span class="preprocessor">#ifdef OCTEON_SWAP_DATA_BYTES</span>
<a name="l00180"></a>00180 <span class="preprocessor"></span>  <span class="keywordflow">while</span>(blocks) {
<a name="l00181"></a>00181     *data = ENDIAN_SWAP_8_BYTE(*data);
<a name="l00182"></a>00182     blocks--; data++;
<a name="l00183"></a>00183   }
<a name="l00184"></a>00184 <span class="preprocessor">#endif</span>
<a name="l00185"></a>00185 <span class="preprocessor"></span>}
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 <span class="comment"></span>
<a name="l00188"></a>00188 <span class="comment">/** Swap 4B blocks */</span>
<a name="l00189"></a>00189 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l00190"></a><a class="code" href="cavium__defs_8h.html#a49538218d0f5f941dbc71ad6f89add0">00190</a> <a class="code" href="cavium__defs_8h.html#a49538218d0f5f941dbc71ad6f89add0">octeon_swap_4B_data</a>(uint32_t *data, uint32_t blocks)
<a name="l00191"></a>00191 {
<a name="l00192"></a>00192 <span class="preprocessor">#ifdef OCTEON_SWAP_DATA_BYTES</span>
<a name="l00193"></a>00193 <span class="preprocessor"></span>  <span class="keywordflow">while</span>(blocks) {
<a name="l00194"></a>00194     *data = ENDIAN_SWAP_4_BYTE(*data);
<a name="l00195"></a>00195     blocks--; data++;
<a name="l00196"></a>00196   }
<a name="l00197"></a>00197 <span class="preprocessor">#endif</span>
<a name="l00198"></a>00198 <span class="preprocessor"></span>}
<a name="l00199"></a>00199 
<a name="l00200"></a>00200 <span class="comment"></span>
<a name="l00201"></a>00201 <span class="comment">/** Swap 2B blocks */</span>
<a name="l00202"></a>00202 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l00203"></a><a class="code" href="cavium__defs_8h.html#92b02f61f633b39c4027c2b09309e172">00203</a> <a class="code" href="cavium__defs_8h.html#92b02f61f633b39c4027c2b09309e172">octeon_swap_2B_data</a>(uint16_t *data, uint32_t blocks)
<a name="l00204"></a>00204 {
<a name="l00205"></a>00205 <span class="preprocessor">#ifdef OCTEON_SWAP_DATA_BYTES</span>
<a name="l00206"></a>00206 <span class="preprocessor"></span>  <span class="keywordflow">while</span>(blocks) {
<a name="l00207"></a>00207     *data = ENDIAN_SWAP_2_BYTE(*data);
<a name="l00208"></a>00208     blocks--; data++;
<a name="l00209"></a>00209   }
<a name="l00210"></a>00210 <span class="preprocessor">#endif</span>
<a name="l00211"></a>00211 <span class="preprocessor"></span>}
<a name="l00212"></a>00212 
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 
<a name="l00215"></a>00215 <span class="preprocessor">#ifndef ROUNDUP4</span>
<a name="l00216"></a>00216 <span class="preprocessor"></span><span class="preprocessor">#define ROUNDUP4(val) (((val) + 3)&amp;0xfffffffc)</span>
<a name="l00217"></a>00217 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00218"></a>00218 <span class="preprocessor"></span>
<a name="l00219"></a>00219 
<a name="l00220"></a>00220 <span class="preprocessor">#ifndef ROUNDUP8</span>
<a name="l00221"></a>00221 <span class="preprocessor"></span><span class="preprocessor">#define ROUNDUP8(val) (((val) + 7)&amp;0xfffffff8)</span>
<a name="l00222"></a>00222 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00223"></a>00223 <span class="preprocessor"></span>
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 <span class="preprocessor">#ifndef ROUNDUP16</span>
<a name="l00226"></a>00226 <span class="preprocessor"></span><span class="preprocessor">#define ROUNDUP16(val) (((val) + 15)&amp;0xfffffff0)</span>
<a name="l00227"></a>00227 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00228"></a>00228 <span class="preprocessor"></span>
<a name="l00229"></a>00229 
<a name="l00230"></a>00230 <span class="preprocessor">#ifndef ROUNDUP128</span>
<a name="l00231"></a>00231 <span class="preprocessor"></span><span class="preprocessor">#define ROUNDUP128(val) (((val) + 127)&amp;0xffffff80)</span>
<a name="l00232"></a>00232 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00233"></a>00233 <span class="preprocessor"></span>
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 
<a name="l00236"></a>00236 
<a name="l00237"></a><a class="code" href="cavium__defs_8h.html#8d41fded6a84bb67fc03f366d104a875">00237</a> <span class="keyword">typedef</span>   uint16_t  <a class="code" href="cavium__defs_8h.html#8d41fded6a84bb67fc03f366d104a875">octeon_opcode_t</a>;
<a name="l00238"></a><a class="code" href="cavium__defs_8h.html#911a1a7fc11e850c7f96e0900ee8e4ed">00238</a> <span class="keyword">typedef</span>   uint32_t  <a class="code" href="cavium__defs_8h.html#911a1a7fc11e850c7f96e0900ee8e4ed">octeon_req_status_t</a>;
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 <span class="comment"></span>
<a name="l00241"></a>00241 <span class="comment">/** Use this type to pass buffer address to the driver in ioctls. Use the </span>
<a name="l00242"></a>00242 <span class="comment">    addr field to copy your buffer's address. */</span>
<a name="l00243"></a><a class="code" href="unioncavium__ptr__t.html">00243</a> <span class="keyword">typedef</span>  <span class="keyword">union </span>{
<a name="l00244"></a>00244 
<a name="l00245"></a><a class="code" href="unioncavium__ptr__t.html#e1ffd98cb5aab55653edcf6d8d63c6bb">00245</a>     uint64_t   addr64;
<a name="l00246"></a><a class="code" href="unioncavium__ptr__t.html#af3972f3be8fd96b0c0ecfafad70a44c">00246</a>     uint8_t   *addr;
<a name="l00247"></a>00247 
<a name="l00248"></a>00248 } <a class="code" href="unioncavium__ptr__t.html">cavium_ptr_t</a>;
<a name="l00249"></a>00249 
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 
<a name="l00252"></a>00252 <span class="preprocessor">#if __CAVIUM_BYTE_ORDER == __CAVIUM_BIG_ENDIAN</span>
<a name="l00253"></a>00253 <span class="preprocessor"></span>
<a name="l00254"></a>00254 <span class="comment"></span>
<a name="l00255"></a>00255 <span class="comment">/** Instruction Header in BIG ENDIAN format.   */</span>
<a name="l00256"></a>00256 
<a name="l00257"></a><a class="code" href="structocteon__instr__ih__t.html">00257</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00258"></a>00258 <span class="comment"></span>
<a name="l00259"></a>00259 <span class="comment">  /** Raw mode indicator 1 = RAW */</span> 
<a name="l00260"></a><a class="code" href="structocteon__instr__ih__t.html#6426168783fa4b60e46d7e8d579ab20f">00260</a>   uint64_t     raw:1;
<a name="l00261"></a>00261 <span class="comment"></span>
<a name="l00262"></a>00262 <span class="comment">  /** Gather indicator 1=gather*/</span>
<a name="l00263"></a><a class="code" href="structocteon__instr__ih__t.html#94a46d2c96dfcd9c69f92818fce6ccd4">00263</a>   uint64_t     gather:1;
<a name="l00264"></a>00264 <span class="comment"></span>
<a name="l00265"></a>00265 <span class="comment">  /** Data length OR no. of entries in gather list */</span>
<a name="l00266"></a><a class="code" href="structocteon__instr__ih__t.html#1b570763ea4bcb1c70ead9e0a39ccf82">00266</a>   uint64_t     dlengsz:14;
<a name="l00267"></a>00267 <span class="comment"></span>
<a name="l00268"></a>00268 <span class="comment">  /** Front Data size */</span>
<a name="l00269"></a><a class="code" href="structocteon__instr__ih__t.html#0906a5923d067ec3c5479dbabe6ba30c">00269</a>   uint64_t     fsz:6;
<a name="l00270"></a>00270 <span class="comment"></span>
<a name="l00271"></a>00271 <span class="comment">  /** Packet Order / Work Unit selection (1 of 8)*/</span>
<a name="l00272"></a><a class="code" href="structocteon__instr__ih__t.html#6501a7c75450eb1540098d62c48a2b05">00272</a>   uint64_t     qos:3;
<a name="l00273"></a>00273 <span class="comment"></span>
<a name="l00274"></a>00274 <span class="comment">  /** Core group selection (1 of 16) */</span>
<a name="l00275"></a><a class="code" href="structocteon__instr__ih__t.html#30622e2f222501f246dab806f316a6c8">00275</a>   uint64_t     grp:4;
<a name="l00276"></a>00276 <span class="comment"></span>
<a name="l00277"></a>00277 <span class="comment">  /** Short Raw Packet Indicator 1=short raw pkt */</span>
<a name="l00278"></a><a class="code" href="structocteon__instr__ih__t.html#348ba553cceb3a50632b4dba51e1a8a4">00278</a>   uint64_t     rs:1;
<a name="l00279"></a>00279 <span class="comment"></span>
<a name="l00280"></a>00280 <span class="comment">  /** Tag type */</span>
<a name="l00281"></a><a class="code" href="structocteon__instr__ih__t.html#a130ae459ce4356cc2ab203432b08956">00281</a>   uint64_t     tagtype:2;
<a name="l00282"></a>00282 <span class="comment"></span>
<a name="l00283"></a>00283 <span class="comment">  /** Tag Value */</span>
<a name="l00284"></a><a class="code" href="structocteon__instr__ih__t.html#7d91c16d80da229a6b4a0fa18adf804a">00284</a>   uint64_t     tag:32;
<a name="l00285"></a>00285 
<a name="l00286"></a>00286 }<a class="code" href="structocteon__instr__ih__t.html">octeon_instr_ih_t</a>;
<a name="l00287"></a>00287 
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 
<a name="l00290"></a>00290 <span class="comment"></span>
<a name="l00291"></a>00291 <span class="comment">/** Input Request Header in BIG ENDIAN format.  */</span>
<a name="l00292"></a>00292 
<a name="l00293"></a><a class="code" href="structocteon__instr__irh__t.html">00293</a> <span class="keyword">typedef</span> <span class="keyword">struct  </span>{
<a name="l00294"></a>00294 <span class="comment"></span>
<a name="l00295"></a>00295 <span class="comment">  /** Opcode for the return packet  */</span>
<a name="l00296"></a><a class="code" href="structocteon__instr__irh__t.html#3ce9b1f855f545827ddc4acdc0ce6a76">00296</a>   uint64_t     opcode:16;
<a name="l00297"></a>00297 <span class="comment"></span>
<a name="l00298"></a>00298 <span class="comment">  /** Opcode Specific parameters */</span>
<a name="l00299"></a><a class="code" href="structocteon__instr__irh__t.html#29c67b625be215a761442e292de7c807">00299</a>   uint64_t     param:8;
<a name="l00300"></a>00300 <span class="comment"></span>
<a name="l00301"></a>00301 <span class="comment">  /** Desired destination port for result */</span>
<a name="l00302"></a><a class="code" href="structocteon__instr__irh__t.html#c144fb570785abf6d50b0b4fc7016833">00302</a>   uint64_t     dport:6;
<a name="l00303"></a>00303 <span class="comment"></span>
<a name="l00304"></a>00304 <span class="comment">  /** Size of Expected result OR no. of entries in scatter list */</span>
<a name="l00305"></a><a class="code" href="structocteon__instr__irh__t.html#e66e66701d6844696de63c13d434903a">00305</a>   uint64_t     rlenssz:14;
<a name="l00306"></a>00306 <span class="comment"></span>
<a name="l00307"></a>00307 <span class="comment">  /** Scatter indicator  1=scatter */</span>
<a name="l00308"></a><a class="code" href="structocteon__instr__irh__t.html#f5a09c939183bfebafcdefaa8ca112f3">00308</a>   uint64_t     scatter:1;
<a name="l00309"></a>00309 <span class="comment"></span>
<a name="l00310"></a>00310 <span class="comment">  /** PCIe port to use for response */</span>
<a name="l00311"></a><a class="code" href="structocteon__instr__irh__t.html#04fa9214395987adb8d93b2fb1b577fb">00311</a>   uint64_t     pcie_port:3;
<a name="l00312"></a>00312 <span class="comment"></span>
<a name="l00313"></a>00313 <span class="comment">  /** Request ID  */</span>
<a name="l00314"></a><a class="code" href="structocteon__instr__irh__t.html#439c68dac4a9139a5746c62a31a3bc48">00314</a>   uint64_t     rid:16;
<a name="l00315"></a>00315 
<a name="l00316"></a>00316 } <a class="code" href="structocteon__instr__irh__t.html">octeon_instr_irh_t</a>;
<a name="l00317"></a>00317 
<a name="l00318"></a>00318 
<a name="l00319"></a>00319 
<a name="l00320"></a>00320 <span class="comment"></span>
<a name="l00321"></a>00321 <span class="comment">/** Response Header in BIG ENDIAN format */</span>
<a name="l00322"></a>00322 
<a name="l00323"></a><a class="code" href="structocteon__resp__hdr__t.html">00323</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00324"></a>00324 <span class="comment"></span>
<a name="l00325"></a>00325 <span class="comment">  /** Opcode for this packet. */</span>
<a name="l00326"></a><a class="code" href="structocteon__resp__hdr__t.html#850f9948dd32334470af9656b43e6bbf">00326</a>    uint64_t        opcode:16;
<a name="l00327"></a>00327 <span class="comment"></span>
<a name="l00328"></a>00328 <span class="comment">  /** The source port for a packet thats in response to pkt sent by host. */</span>
<a name="l00329"></a><a class="code" href="structocteon__resp__hdr__t.html#da5a8055b4c5ae388dcbb709559bcd5f">00329</a>    uint64_t        src_port:6;
<a name="l00330"></a>00330 <span class="comment"></span>
<a name="l00331"></a>00331 <span class="comment">  /** The destination Queue port. */</span>
<a name="l00332"></a><a class="code" href="structocteon__resp__hdr__t.html#ce753096b95f031db75ae22dd862e556">00332</a>    uint64_t        dest_qport:22;
<a name="l00333"></a>00333 <span class="comment"></span>
<a name="l00334"></a>00334 <span class="comment">  /** Reserved. */</span>
<a name="l00335"></a><a class="code" href="structocteon__resp__hdr__t.html#a6c8f1bf9f1da40d1aea698dfe06aab9">00335</a>    uint64_t        reserved:4;
<a name="l00336"></a>00336 <span class="comment"></span>
<a name="l00337"></a>00337 <span class="comment">  /** The request id for a packet thats in response to pkt sent by host. */</span>
<a name="l00338"></a><a class="code" href="structocteon__resp__hdr__t.html#4d4ef95ff7681ffc601aead83979e140">00338</a>    uint64_t        request_id:16;
<a name="l00339"></a>00339 
<a name="l00340"></a>00340 } <a class="code" href="structocteon__resp__hdr__t.html">octeon_resp_hdr_t</a>;
<a name="l00341"></a>00341 
<a name="l00342"></a>00342 
<a name="l00343"></a>00343 
<a name="l00344"></a>00344 
<a name="l00345"></a>00345 <span class="preprocessor">#else</span>
<a name="l00346"></a>00346 <span class="preprocessor"></span><span class="comment"></span>
<a name="l00347"></a>00347 <span class="comment">/** Instruction Header in LITTLE ENDIAN format. */</span>
<a name="l00348"></a>00348 
<a name="l00349"></a>00349 <span class="keyword">typedef</span> <span class="keyword">struct  </span>{
<a name="l00350"></a>00350 <span class="comment"></span>
<a name="l00351"></a>00351 <span class="comment">  /** Tag Value */</span>
<a name="l00352"></a>00352   uint64_t     tag:32;
<a name="l00353"></a>00353 <span class="comment"></span>
<a name="l00354"></a>00354 <span class="comment">  /** Tag type */</span>
<a name="l00355"></a>00355   uint64_t     tagtype:2;
<a name="l00356"></a>00356 <span class="comment"></span>
<a name="l00357"></a>00357 <span class="comment">  /** Short Raw Packet Indicator 1=short raw pkt */</span>
<a name="l00358"></a>00358   uint64_t     rs:1;
<a name="l00359"></a>00359 <span class="comment"></span>
<a name="l00360"></a>00360 <span class="comment">  /** Core group selection (1 of 16) */</span>
<a name="l00361"></a>00361   uint64_t     grp:4;
<a name="l00362"></a>00362 <span class="comment"></span>
<a name="l00363"></a>00363 <span class="comment">  /** Packet Order / Work Unit selection (1 of 8)*/</span>
<a name="l00364"></a>00364   uint64_t     qos:3;
<a name="l00365"></a>00365 <span class="comment"></span>
<a name="l00366"></a>00366 <span class="comment">  /** Front Data size */</span>
<a name="l00367"></a>00367   uint64_t     fsz:6;
<a name="l00368"></a>00368 <span class="comment"></span>
<a name="l00369"></a>00369 <span class="comment">  /** Data length OR no. of entries in gather list */</span>
<a name="l00370"></a>00370   uint64_t     dlengsz:14;
<a name="l00371"></a>00371 <span class="comment"></span>
<a name="l00372"></a>00372 <span class="comment">  /** Gather indicator 1=gather*/</span>
<a name="l00373"></a>00373   uint64_t     gather:1;
<a name="l00374"></a>00374 <span class="comment"></span>
<a name="l00375"></a>00375 <span class="comment">  /** Raw mode indicator 1 = RAW */</span> 
<a name="l00376"></a>00376   uint64_t     raw:1;
<a name="l00377"></a>00377 
<a name="l00378"></a>00378 }<a class="code" href="structocteon__instr__ih__t.html">octeon_instr_ih_t</a>;
<a name="l00379"></a>00379 
<a name="l00380"></a>00380 
<a name="l00381"></a>00381 <span class="comment"></span>
<a name="l00382"></a>00382 <span class="comment">/** Input Request Header in LITTLE ENDIAN format */</span>
<a name="l00383"></a>00383 
<a name="l00384"></a>00384 <span class="keyword">typedef</span> <span class="keyword">struct  </span>{
<a name="l00385"></a>00385 <span class="comment"></span>
<a name="l00386"></a>00386 <span class="comment">  /** Request ID  */</span>
<a name="l00387"></a>00387   uint64_t     rid:16;
<a name="l00388"></a>00388 <span class="comment"></span>
<a name="l00389"></a>00389 <span class="comment">  /** PCIe port to use for response */</span>
<a name="l00390"></a>00390   uint64_t     pcie_port:3;
<a name="l00391"></a>00391 <span class="comment"></span>
<a name="l00392"></a>00392 <span class="comment">  /** Scatter indicator  1=scatter */</span>
<a name="l00393"></a>00393   uint64_t     scatter:1;
<a name="l00394"></a>00394 <span class="comment"></span>
<a name="l00395"></a>00395 <span class="comment">  /** Size of Expected result OR no. of entries in scatter list */</span>
<a name="l00396"></a>00396   uint64_t     rlenssz:14;
<a name="l00397"></a>00397 <span class="comment"></span>
<a name="l00398"></a>00398 <span class="comment">  /** Desired destination port for result */</span>
<a name="l00399"></a>00399   uint64_t     dport:6;
<a name="l00400"></a>00400 <span class="comment"></span>
<a name="l00401"></a>00401 <span class="comment">  /** Opcode Specific parameters */</span>
<a name="l00402"></a>00402   uint64_t     param:8;
<a name="l00403"></a>00403 <span class="comment"></span>
<a name="l00404"></a>00404 <span class="comment">  /** Opcode for the return packet  */</span>
<a name="l00405"></a>00405   uint64_t     opcode:16;
<a name="l00406"></a>00406 
<a name="l00407"></a>00407 } <a class="code" href="structocteon__instr__irh__t.html">octeon_instr_irh_t</a>;
<a name="l00408"></a>00408 
<a name="l00409"></a>00409 
<a name="l00410"></a>00410 <span class="comment"></span>
<a name="l00411"></a>00411 <span class="comment">/** Response Header in LITTLE ENDIAN format */</span>
<a name="l00412"></a>00412 
<a name="l00413"></a>00413 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00414"></a>00414 <span class="comment"></span>
<a name="l00415"></a>00415 <span class="comment">  /** The request id for a packet thats in response to pkt sent by host. */</span>
<a name="l00416"></a>00416    uint64_t        request_id:16;
<a name="l00417"></a>00417 <span class="comment"></span>
<a name="l00418"></a>00418 <span class="comment">  /** Reserved. */</span>
<a name="l00419"></a>00419    uint64_t        reserved:4;
<a name="l00420"></a>00420 <span class="comment"></span>
<a name="l00421"></a>00421 <span class="comment">  /** The destination Queue port. */</span>
<a name="l00422"></a>00422    uint64_t        dest_qport:22;
<a name="l00423"></a>00423 <span class="comment"></span>
<a name="l00424"></a>00424 <span class="comment">  /** The source port for a packet thats in response to pkt sent by host. */</span>
<a name="l00425"></a>00425    uint64_t        src_port:6;
<a name="l00426"></a>00426 <span class="comment"></span>
<a name="l00427"></a>00427 <span class="comment">  /** Opcode for this packet. */</span>
<a name="l00428"></a>00428    uint64_t        opcode:16;
<a name="l00429"></a>00429 
<a name="l00430"></a>00430 } <a class="code" href="structocteon__resp__hdr__t.html">octeon_resp_hdr_t</a>;
<a name="l00431"></a>00431 
<a name="l00432"></a>00432 
<a name="l00433"></a>00433 
<a name="l00434"></a>00434 
<a name="l00435"></a>00435 <span class="preprocessor">#endif   </span><span class="comment">/* Little or Big Endian */</span>
<a name="l00436"></a>00436 
<a name="l00437"></a>00437 
<a name="l00438"></a>00438 <span class="preprocessor">#define  OCT_RESP_HDR_SIZE   (sizeof(octeon_resp_hdr_t))</span>
<a name="l00439"></a>00439 <span class="preprocessor"></span>
<a name="l00440"></a>00440 
<a name="l00441"></a>00441 
<a name="l00442"></a>00442 <span class="comment">/* \cond */</span>
<a name="l00443"></a>00443 
<a name="l00444"></a>00444 <span class="keyword">typedef</span> <span class="keyword">union </span>{
<a name="l00445"></a>00445 
<a name="l00446"></a>00446     uint64_t   u64;
<a name="l00447"></a>00447 
<a name="l00448"></a>00448     <span class="keyword">struct </span>{
<a name="l00449"></a>00449 <span class="preprocessor">#if __CAVIUM_BYTE_ORDER == __CAVIUM_BIG_ENDIAN</span>
<a name="l00450"></a>00450 <span class="preprocessor"></span>        uint64_t  es:2;
<a name="l00451"></a>00451         uint64_t  ns:1;
<a name="l00452"></a>00452         uint64_t  ro:1;
<a name="l00453"></a>00453         uint64_t  addr:60;
<a name="l00454"></a>00454 <span class="preprocessor">#else</span>
<a name="l00455"></a>00455 <span class="preprocessor"></span>        uint64_t  addr:60;
<a name="l00456"></a>00456         uint64_t  ro:1;
<a name="l00457"></a>00457         uint64_t  ns:1;
<a name="l00458"></a>00458         uint64_t  es:2;
<a name="l00459"></a>00459 <span class="preprocessor">#endif </span>
<a name="l00460"></a>00460 <span class="preprocessor"></span>    } f1;
<a name="l00461"></a>00461         
<a name="l00462"></a>00462     <span class="keyword">struct </span>{
<a name="l00463"></a>00463 <span class="preprocessor">#if __CAVIUM_BYTE_ORDER == __CAVIUM_BIG_ENDIAN</span>
<a name="l00464"></a>00464 <span class="preprocessor"></span>        uint64_t  pm:2;
<a name="l00465"></a>00465         uint64_t  sl:7;
<a name="l00466"></a>00466         uint64_t  addr:55;
<a name="l00467"></a>00467 <span class="preprocessor">#else</span>
<a name="l00468"></a>00468 <span class="preprocessor"></span>        uint64_t  addr:55;
<a name="l00469"></a>00469         uint64_t  sl:7;
<a name="l00470"></a>00470         uint64_t  pm:2;
<a name="l00471"></a>00471 <span class="preprocessor">#endif </span>
<a name="l00472"></a>00472 <span class="preprocessor"></span>    } f2;
<a name="l00473"></a>00473     
<a name="l00474"></a>00474     <span class="keyword">struct </span>{
<a name="l00475"></a>00475 <span class="preprocessor">#if __CAVIUM_BYTE_ORDER == __CAVIUM_BIG_ENDIAN</span>
<a name="l00476"></a>00476 <span class="preprocessor"></span>        uint64_t  es:2;
<a name="l00477"></a>00477         uint64_t  ns:1;
<a name="l00478"></a>00478         uint64_t  ro:1;
<a name="l00479"></a>00479         uint64_t  pm:2;
<a name="l00480"></a>00480         uint64_t  sl:7;
<a name="l00481"></a>00481         uint64_t  addr:51;
<a name="l00482"></a>00482 <span class="preprocessor">#else</span>
<a name="l00483"></a>00483 <span class="preprocessor"></span>        uint64_t  addr:51;
<a name="l00484"></a>00484         uint64_t  sl:7;
<a name="l00485"></a>00485         uint64_t  pm:2;
<a name="l00486"></a>00486         uint64_t  ro:1;
<a name="l00487"></a>00487         uint64_t  ns:1;
<a name="l00488"></a>00488         uint64_t  es:2;
<a name="l00489"></a>00489 <span class="preprocessor">#endif </span>
<a name="l00490"></a>00490 <span class="preprocessor"></span>    } f3;
<a name="l00491"></a>00491     
<a name="l00492"></a>00492 } oct_dptr_format_t;
<a name="l00493"></a>00493 
<a name="l00494"></a>00494 <span class="comment">/* \endcond */</span>
<a name="l00495"></a>00495 
<a name="l00496"></a>00496 
<a name="l00497"></a>00497 
<a name="l00498"></a>00498 
<a name="l00499"></a>00499 
<a name="l00500"></a>00500 
<a name="l00501"></a>00501 <span class="comment">/*-------------------------------- REQUEST INFO ----------------------------*/</span>
<a name="l00502"></a>00502 <span class="comment">/*                Used in both soft-request and soft_instruction            */</span>
<a name="l00503"></a>00503 
<a name="l00504"></a>00504 
<a name="l00505"></a>00505 
<a name="l00506"></a>00506 <span class="comment"></span>
<a name="l00507"></a>00507 <span class="comment">/** Response mode value for a Octeon request. */</span>
<a name="l00508"></a><a class="code" href="cavium__defs_8h.html#8ebaf8d7f4722b078a98333bc234f530">00508</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00509"></a>00509    <a class="code" href="cavium__defs_8h.html#8ebaf8d7f4722b078a98333bc234f53048b3abbc896d8f913f17a832a192fa9e">OCTEON_RESP_BLOCKING</a>=0,
<a name="l00510"></a>00510    <a class="code" href="cavium__defs_8h.html#8ebaf8d7f4722b078a98333bc234f530930f5b8a23561cfda905ad57c47db013">OCTEON_RESP_NON_BLOCKING</a>
<a name="l00511"></a>00511 
<a name="l00512"></a>00512 }<a class="code" href="cavium__defs_8h.html#8ebaf8d7f4722b078a98333bc234f530">OCTEON_RESPONSE_MODE</a>;
<a name="l00513"></a>00513 
<a name="l00514"></a>00514 <span class="preprocessor">#define  OCTEON_RESP_MODE_STRING(resp_order)                                \</span>
<a name="l00515"></a>00515 <span class="preprocessor">({                                                                          \</span>
<a name="l00516"></a>00516 <span class="preprocessor">    char  str[16];                                                          \</span>
<a name="l00517"></a>00517 <span class="preprocessor">    switch(resp_order) {                                                    \</span>
<a name="l00518"></a>00518 <span class="preprocessor">        case OCTEON_RESP_BLOCKING: strcpy(str, "BLOCKING"); break;          \</span>
<a name="l00519"></a>00519 <span class="preprocessor">        case OCTEON_RESP_NON_BLOCKING: strcpy(str, "NON-BLOCKING"); break;  \</span>
<a name="l00520"></a>00520 <span class="preprocessor">        default: strcpy(str, "UNKNOWN"); break;                             \</span>
<a name="l00521"></a>00521 <span class="preprocessor">    }                                                                       \</span>
<a name="l00522"></a>00522 <span class="preprocessor">    str;                                                                    \</span>
<a name="l00523"></a>00523 <span class="preprocessor">})</span>
<a name="l00524"></a>00524 <span class="preprocessor"></span>
<a name="l00525"></a>00525 
<a name="l00526"></a>00526 
<a name="l00527"></a>00527 
<a name="l00528"></a>00528 
<a name="l00529"></a>00529 <span class="comment"></span>
<a name="l00530"></a>00530 <span class="comment">/** Response Order values for a Octeon Request. */</span>
<a name="l00531"></a><a class="code" href="cavium__defs_8h.html#78af22777235089ae5ee3581e49811c4">00531</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00532"></a>00532      <a class="code" href="cavium__defs_8h.html#78af22777235089ae5ee3581e49811c449dec99d41ed857e1809e2a6572f6add">OCTEON_RESP_ORDERED</a>=0,
<a name="l00533"></a>00533      <a class="code" href="cavium__defs_8h.html#78af22777235089ae5ee3581e49811c48e7a724e34f609bfcd16a9dd43f895e1">OCTEON_RESP_UNORDERED</a>=1,
<a name="l00534"></a>00534      <a class="code" href="cavium__defs_8h.html#78af22777235089ae5ee3581e49811c4bfc1f7cbd517ad45fa28779017ba9567">OCTEON_RESP_NORESPONSE</a>=2
<a name="l00535"></a>00535 
<a name="l00536"></a>00536 }<a class="code" href="cavium__defs_8h.html#78af22777235089ae5ee3581e49811c4">OCTEON_RESPONSE_ORDER</a>;
<a name="l00537"></a>00537 
<a name="l00538"></a>00538 <span class="preprocessor">#define  OCTEON_RESP_ORDER_STRING(resp_order)                          \</span>
<a name="l00539"></a>00539 <span class="preprocessor">({                                                                     \</span>
<a name="l00540"></a>00540 <span class="preprocessor">    char  str[16];                                                     \</span>
<a name="l00541"></a>00541 <span class="preprocessor">    switch(resp_order) {                                               \</span>
<a name="l00542"></a>00542 <span class="preprocessor">        case OCTEON_RESP_ORDERED: strcpy(str, "ORDERED"); break;       \</span>
<a name="l00543"></a>00543 <span class="preprocessor">        case OCTEON_RESP_UNORDERED: strcpy(str, "UNORDERED"); break;   \</span>
<a name="l00544"></a>00544 <span class="preprocessor">        case OCTEON_RESP_NORESPONSE: strcpy(str, "NORESPONSE"); break; \</span>
<a name="l00545"></a>00545 <span class="preprocessor">        default: strcpy(str, "UNKNOWN"); break;                        \</span>
<a name="l00546"></a>00546 <span class="preprocessor">    }                                                                  \</span>
<a name="l00547"></a>00547 <span class="preprocessor">    str;                                                               \</span>
<a name="l00548"></a>00548 <span class="preprocessor">})</span>
<a name="l00549"></a>00549 <span class="preprocessor"></span>
<a name="l00550"></a>00550 
<a name="l00551"></a>00551 
<a name="l00552"></a>00552 
<a name="l00553"></a>00553 <span class="comment"></span>
<a name="l00554"></a>00554 <span class="comment">/** The DMA mode values that canbe used for the request. */</span>
<a name="l00555"></a><a class="code" href="cavium__defs_8h.html#515adf4ce9018391d2e146960d93ee61">00555</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00556"></a>00556    <a class="code" href="cavium__defs_8h.html#515adf4ce9018391d2e146960d93ee61347a70e97916e80ce778cde127f39ed8">OCTEON_DMA_DIRECT</a>=0, 
<a name="l00557"></a>00557    <a class="code" href="cavium__defs_8h.html#515adf4ce9018391d2e146960d93ee61165f667286c9fb65c102dd63394d4dd9">OCTEON_DMA_SCATTER</a>=1,
<a name="l00558"></a>00558    <a class="code" href="cavium__defs_8h.html#515adf4ce9018391d2e146960d93ee6136ac55b7b956a04f837bb1b19a3f63a8">OCTEON_DMA_GATHER</a>=2,
<a name="l00559"></a>00559    <a class="code" href="cavium__defs_8h.html#515adf4ce9018391d2e146960d93ee612af23b591378d8551e5f41c727bb51dc">OCTEON_DMA_SCATTER_GATHER</a>=3
<a name="l00560"></a>00560 } <a class="code" href="cavium__defs_8h.html#515adf4ce9018391d2e146960d93ee61">OCTEON_DMA_MODE</a>;
<a name="l00561"></a>00561 
<a name="l00562"></a>00562 <span class="preprocessor">#define  OCTEON_DMA_MODE_STRING(dma_mode)                                     \</span>
<a name="l00563"></a>00563 <span class="preprocessor">({                                                                            \</span>
<a name="l00564"></a>00564 <span class="preprocessor">    char  str[16];                                                            \</span>
<a name="l00565"></a>00565 <span class="preprocessor">    switch(dma_mode) {                                                        \</span>
<a name="l00566"></a>00566 <span class="preprocessor">        case OCTEON_DMA_DIRECT: strcpy(str, "DIRECT"); break;                 \</span>
<a name="l00567"></a>00567 <span class="preprocessor">        case OCTEON_DMA_SCATTER: strcpy(str, "SCATTER"); break;               \</span>
<a name="l00568"></a>00568 <span class="preprocessor">        case OCTEON_DMA_GATHER: strcpy(str, "GATHER"); break;                 \</span>
<a name="l00569"></a>00569 <span class="preprocessor">        case OCTEON_DMA_SCATTER_GATHER: strcpy(str, "SCATTER_GATHER"); break; \</span>
<a name="l00570"></a>00570 <span class="preprocessor">        default: strcpy(str, "UNKNOWN"); break;                               \</span>
<a name="l00571"></a>00571 <span class="preprocessor">    }                                                                         \</span>
<a name="l00572"></a>00572 <span class="preprocessor">    str;                                                                      \</span>
<a name="l00573"></a>00573 <span class="preprocessor">})</span>
<a name="l00574"></a>00574 <span class="preprocessor"></span>
<a name="l00575"></a>00575 
<a name="l00576"></a>00576 
<a name="l00577"></a>00577 <span class="comment"></span>
<a name="l00578"></a>00578 <span class="comment">/** Status for a request. </span>
<a name="l00579"></a>00579 <span class="comment">  If a request is not queued to Octeon by the driver, the driver returns</span>
<a name="l00580"></a>00580 <span class="comment">  an error condition that's describe by one of the OCTEON_REQ_ERR_* value</span>
<a name="l00581"></a>00581 <span class="comment">  below. If the request is successfully queued, the driver will return </span>
<a name="l00582"></a>00582 <span class="comment">  a OCTEON_REQUEST_PENDING status. OCTEON_REQUEST_TIMEOUT and </span>
<a name="l00583"></a>00583 <span class="comment">  OCTEON_REQUEST_INTERRUPTED are only returned by the driver if the response for</span>
<a name="l00584"></a>00584 <span class="comment">  request failed to arrive before a time-out period or if the request processing</span>
<a name="l00585"></a>00585 <span class="comment">  got interrupted due to a signal respectively. */</span>
<a name="l00586"></a><a class="code" href="cavium__defs_8h.html#9479b069b765cf11d14a1358c79d7b95">00586</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00587"></a>00587    <a class="code" href="cavium__defs_8h.html#9479b069b765cf11d14a1358c79d7b954b3bf06bfac808c609a8d438b39f3b44">OCTEON_REQUEST_DONE</a>     = (DRIVER_ERROR_NONE),
<a name="l00588"></a>00588    <a class="code" href="cavium__defs_8h.html#9479b069b765cf11d14a1358c79d7b95c80e7ed7b9ebbb9407f82b399ae0577b">OCTEON_REQUEST_PENDING</a>  = (DRIVER_ERROR_REQ_PENDING),
<a name="l00589"></a>00589    <a class="code" href="cavium__defs_8h.html#9479b069b765cf11d14a1358c79d7b95a64026e8a0d33f19035a11db3ad3f955">OCTEON_REQUEST_TIMEOUT</a>  = (DRIVER_ERROR_REQ_TIMEOUT),
<a name="l00590"></a>00590    <a class="code" href="cavium__defs_8h.html#9479b069b765cf11d14a1358c79d7b9558e0a00604506a44a1e3571b3dc2b0e2">OCTEON_REQUEST_INTERRUPTED</a> = (DRIVER_ERROR_REQ_EINTR),
<a name="l00591"></a>00591    <a class="code" href="cavium__defs_8h.html#9479b069b765cf11d14a1358c79d7b95c4632a979547ee9e787cd387f358075f">OCTEON_REQUEST_NO_DEVICE</a> = (0x00000021), 
<a name="l00592"></a>00592    <a class="code" href="cavium__defs_8h.html#9479b069b765cf11d14a1358c79d7b95c4c60a12619b72bfae77ac29528407c9">OCTEON_REQUEST_NOT_RUNNING</a>,
<a name="l00593"></a>00593    <a class="code" href="cavium__defs_8h.html#9479b069b765cf11d14a1358c79d7b95e535de26598518781d3b7be9cec51302">OCTEON_REQUEST_INVALID_IQ</a>,
<a name="l00594"></a>00594    <a class="code" href="cavium__defs_8h.html#9479b069b765cf11d14a1358c79d7b955be0de23a8ffef9803a560363a703eb0">OCTEON_REQUEST_INVALID_BUFCNT</a>,
<a name="l00595"></a>00595    <a class="code" href="cavium__defs_8h.html#9479b069b765cf11d14a1358c79d7b95f68f8668ecf96405853a8eb2015a6495">OCTEON_REQUEST_INVALID_RESP_ORDER</a>,
<a name="l00596"></a>00596    <a class="code" href="cavium__defs_8h.html#9479b069b765cf11d14a1358c79d7b95ec6e6f64706b0381a4a17e556cd50fe0">OCTEON_REQUEST_NO_MEMORY</a>,
<a name="l00597"></a>00597    <a class="code" href="cavium__defs_8h.html#9479b069b765cf11d14a1358c79d7b9557c69926e35253759b4ebbd4ecce32a9">OCTEON_REQUEST_INVALID_BUFSIZE</a>,
<a name="l00598"></a>00598    <a class="code" href="cavium__defs_8h.html#9479b069b765cf11d14a1358c79d7b95d6fd3293a9ef7173630b0ada138370be">OCTEON_REQUEST_NO_PENDING_ENTRY</a>,
<a name="l00599"></a>00599    <a class="code" href="cavium__defs_8h.html#9479b069b765cf11d14a1358c79d7b9514f02f5cc970e848129d27a975ae8092">OCTEON_REQUEST_NO_IQ_SPACE</a> = (0x7FFFFFFF)
<a name="l00600"></a>00600 
<a name="l00601"></a>00601 } <a class="code" href="cavium__defs_8h.html#9479b069b765cf11d14a1358c79d7b95">OCTEON_REQUEST_STATUS</a>;
<a name="l00602"></a>00602 
<a name="l00603"></a>00603 
<a name="l00604"></a>00604 <span class="comment">/* The request status was failed */</span>
<a name="l00605"></a>00605 <span class="preprocessor">#define OCTEON_REQUEST_STATUS_FAILED        OCTEON_REQUEST_NO_IQ_SPACE</span>
<a name="l00606"></a>00606 <span class="preprocessor"></span><span class="comment">/* Includes the request_id and status to failed values */</span>
<a name="l00607"></a>00607 <span class="preprocessor">#define OCTEON_REQUEST_FAILED           (~0ULL)</span>
<a name="l00608"></a>00608 <span class="preprocessor"></span>
<a name="l00609"></a>00609 <span class="comment"></span>
<a name="l00610"></a>00610 <span class="comment">/** Tag types used by Octeon cores in its work. */</span>
<a name="l00611"></a><a class="code" href="cavium__defs_8h.html#73c65db52876e9813e3bf3c647240784">00611</a> <span class="keyword">enum</span> <a class="code" href="cavium__defs_8h.html#73c65db52876e9813e3bf3c647240784">octeon_tag_type</a> {
<a name="l00612"></a>00612     <a class="code" href="cavium__defs_8h.html#73c65db52876e9813e3bf3c647240784f6276f229c91df2ae8fad8a836dc585b">ORDERED_TAG</a>   = 0,
<a name="l00613"></a>00613     <a class="code" href="cavium__defs_8h.html#73c65db52876e9813e3bf3c6472407840910782d4f1d61bb614a972dccdcd997">ATOMIC_TAG</a>    = 1,
<a name="l00614"></a>00614     <a class="code" href="cavium__defs_8h.html#73c65db52876e9813e3bf3c647240784f064c0604ee18dbd55cecf352bb08147">NULL_TAG</a>      = 2,
<a name="l00615"></a>00615     <a class="code" href="cavium__defs_8h.html#73c65db52876e9813e3bf3c6472407846bd36048b0d8f87a42be37430b627045">NULL_NULL_TAG</a> = 3
<a name="l00616"></a>00616 } ;
<a name="l00617"></a>00617 
<a name="l00618"></a>00618 
<a name="l00619"></a>00619 
<a name="l00620"></a>00620 <span class="comment"></span>
<a name="l00621"></a>00621 <span class="comment">/** The format of the extra headers (upto 4) in 64-byte instruction</span>
<a name="l00622"></a>00622 <span class="comment">    mode. */</span>
<a name="l00623"></a><a class="code" href="cavium__defs_8h.html#052ad70c338d8033e5ce777f66efce71">00623</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00624"></a>00624    <a class="code" href="cavium__defs_8h.html#052ad70c338d8033e5ce777f66efce71acc245d44541bea8a901d258dfa08557">OCTEON_EXHDR_PASS_THRU</a>=0,   <span class="comment">/* Send extra header word as-is */</span>
<a name="l00625"></a>00625    <a class="code" href="cavium__defs_8h.html#052ad70c338d8033e5ce777f66efce71fe147f23ff7fdce4c3676da4b8dfc4be">OCTEON_EXHDR_ENDIAN_SWAP</a>=1  <span class="comment">/* Send extra header word after 64-bit swap */</span>
<a name="l00626"></a>00626 } <a class="code" href="cavium__defs_8h.html#052ad70c338d8033e5ce777f66efce71">OCTEON_EXHDR_FMT</a>;
<a name="l00627"></a>00627 
<a name="l00628"></a>00628 
<a name="l00629"></a>00629 <span class="comment"></span>
<a name="l00630"></a>00630 <span class="comment">/** A bit mask describing the response mode, DMA mode, response order </span>
<a name="l00631"></a>00631 <span class="comment">    and instruction queue to use for a request. */</span>
<a name="l00632"></a><a class="code" href="structocteon__request__mask__t.html">00632</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00633"></a>00633 <span class="comment"></span>
<a name="l00634"></a>00634 <span class="comment">   /** Use a value of type OCTEON_RESP_MODE */</span>
<a name="l00635"></a><a class="code" href="structocteon__request__mask__t.html#afe5d26f987a833ff530fc5b86921391">00635</a>    uint32_t    resp_mode:2;
<a name="l00636"></a>00636 <span class="comment"></span>
<a name="l00637"></a>00637 <span class="comment">   /** Use a value of type OCTEON_DMA_MODE */</span>
<a name="l00638"></a><a class="code" href="structocteon__request__mask__t.html#1c71e257020bf94887e9d883e2a23c51">00638</a>    uint32_t    dma_mode:2;
<a name="l00639"></a>00639 <span class="comment"></span>
<a name="l00640"></a>00640 <span class="comment">   /** Use a value of type OCTEON_RESP_ORDER */</span>
<a name="l00641"></a><a class="code" href="structocteon__request__mask__t.html#51d59127850a67b66e2c2d7aca41c4f0">00641</a>    uint32_t    resp_order:2;
<a name="l00642"></a>00642 <span class="comment"></span>
<a name="l00643"></a>00643 <span class="comment">   /** If set, the driver will ignore any pending signals when processing</span>
<a name="l00644"></a>00644 <span class="comment">       a BLOCKING request. */</span>
<a name="l00645"></a><a class="code" href="structocteon__request__mask__t.html#0a6013d6cc15e0db332469fc2ffd0837">00645</a>    uint32_t    ignore_signal:2;
<a name="l00646"></a>00646 <span class="comment"></span>
<a name="l00647"></a>00647 <span class="comment">   /** The Input queue on which the request will be sent to Octeon */</span>
<a name="l00648"></a><a class="code" href="structocteon__request__mask__t.html#b1e85ba62b35b9aa83e888abd90c434a">00648</a>    uint32_t    iq_no:5;
<a name="l00649"></a>00649 
<a name="l00650"></a><a class="code" href="structocteon__request__mask__t.html#2f1395b0d1a23dcdf79aa71b0b9d9cd8">00650</a>    uint32_t    rsvd:19;
<a name="l00651"></a>00651 
<a name="l00652"></a>00652 }<a class="code" href="structocteon__request__mask__t.html">octeon_request_mask_t</a>;
<a name="l00653"></a>00653 
<a name="l00654"></a>00654 
<a name="l00655"></a>00655 
<a name="l00656"></a>00656 
<a name="l00657"></a>00657 <span class="comment"></span>
<a name="l00658"></a>00658 <span class="comment">/** Information about each of the extra headers added for a 64-byte</span>
<a name="l00659"></a>00659 <span class="comment">    instruction. */</span>
<a name="l00660"></a><a class="code" href="structocteon__exhdr__info__t.html">00660</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00661"></a>00661 <span class="comment"></span>
<a name="l00662"></a>00662 <span class="comment">   /** The number of 64-bit extra header words in this request. */</span>
<a name="l00663"></a><a class="code" href="structocteon__exhdr__info__t.html#ffaaa0d0ab5a5cab51138e43828768ce">00663</a>    uint64_t    exhdr_count:4;
<a name="l00664"></a>00664 <span class="comment"></span>
<a name="l00665"></a>00665 <span class="comment">   /** Use a value of type OCTEON_EXHDR_FMT */</span>
<a name="l00666"></a><a class="code" href="structocteon__exhdr__info__t.html#224cb4c604f2ee50501d1c1bbbe3b5e3">00666</a>    uint64_t    exhdr1_op:2;
<a name="l00667"></a>00667 
<a name="l00668"></a><a class="code" href="structocteon__exhdr__info__t.html#b98223bd366a905a4ef99bca597bdc86">00668</a>    uint64_t    exhdr2_op:2;
<a name="l00669"></a>00669 
<a name="l00670"></a><a class="code" href="structocteon__exhdr__info__t.html#4650b0698f8fcb687ffda21495d1cef8">00670</a>    uint64_t    exhdr3_op:2;
<a name="l00671"></a>00671 
<a name="l00672"></a><a class="code" href="structocteon__exhdr__info__t.html#d2f82d628e624e9310c3e17704f296ce">00672</a>    uint64_t    exhdr4_op:2;
<a name="l00673"></a>00673 
<a name="l00674"></a><a class="code" href="structocteon__exhdr__info__t.html#f60977c4bfb7d0bc71146db893d23a86">00674</a>    uint64_t    rsvd:52;
<a name="l00675"></a>00675 
<a name="l00676"></a>00676 } <a class="code" href="structocteon__exhdr__info__t.html">octeon_exhdr_info_t</a>;
<a name="l00677"></a>00677 
<a name="l00678"></a>00678 <span class="preprocessor">#define OCT_EXHDR_INFO_SIZE   (sizeof(octeon_exhdr_info_t))</span>
<a name="l00679"></a>00679 <span class="preprocessor"></span>
<a name="l00680"></a>00680 
<a name="l00681"></a>00681 
<a name="l00682"></a>00682 
<a name="l00683"></a>00683 <span class="comment"></span>
<a name="l00684"></a>00684 <span class="comment">/** Format of the function called at the completion of instruction</span>
<a name="l00685"></a>00685 <span class="comment">    processing by the driver. */</span>
<a name="l00686"></a><a class="code" href="cavium__defs_8h.html#fccf6d06d0803e93ef236af5d370ea30">00686</a> <span class="keyword">typedef</span>  void(* <a class="code" href="cavium__defs_8h.html#fccf6d06d0803e93ef236af5d370ea30">instr_callback_t</a>)(<a class="code" href="cavium__defs_8h.html#911a1a7fc11e850c7f96e0900ee8e4ed">octeon_req_status_t</a>, <span class="keywordtype">void</span> *);   
<a name="l00687"></a>00687 
<a name="l00688"></a>00688 
<a name="l00689"></a>00689 
<a name="l00690"></a>00690 
<a name="l00691"></a>00691 
<a name="l00692"></a>00692 
<a name="l00693"></a>00693 <span class="preprocessor">#if defined(CVM_SUPPORT_DEPRECATED_API)</span>
<a name="l00694"></a>00694 <span class="preprocessor"></span>
<a name="l00695"></a>00695 <span class="preprocessor">#include "<a class="code" href="cavium__deprecated_8h.html">cavium_deprecated.h</a>"</span>
<a name="l00696"></a>00696 
<a name="l00697"></a>00697 <span class="preprocessor">#else</span>
<a name="l00698"></a>00698 <span class="preprocessor"></span><span class="comment"></span>
<a name="l00699"></a>00699 <span class="comment">/** Information about the request sent to driver by user-space applications. */</span>
<a name="l00700"></a><a class="code" href="structocteon__user__request__info__t.html">00700</a> <span class="keyword">typedef</span> <span class="keyword">struct  </span>{
<a name="l00701"></a>00701 <span class="comment"></span>
<a name="l00702"></a>00702 <span class="comment">  /** The Octeon device to use for this request */</span>
<a name="l00703"></a><a class="code" href="structocteon__user__request__info__t.html#d9795108c23fab564e915526edc555f2">00703</a>    uint32_t                  octeon_id;
<a name="l00704"></a>00704 <span class="comment"></span>
<a name="l00705"></a>00705 <span class="comment">  /** The request mask */</span>
<a name="l00706"></a><a class="code" href="structocteon__user__request__info__t.html#6f8e890f4c273f156146e212a6b5a696">00706</a>    <a class="code" href="structocteon__request__mask__t.html">octeon_request_mask_t</a>     req_mask;
<a name="l00707"></a>00707 <span class="comment"></span>
<a name="l00708"></a>00708 <span class="comment">  /** timeout for this request */</span>
<a name="l00709"></a><a class="code" href="structocteon__user__request__info__t.html#0d4e039b403da3988945ebdc6aec05a9">00709</a>    uint32_t                  timeout;
<a name="l00710"></a>00710 <span class="comment"></span>
<a name="l00711"></a>00711 <span class="comment">  /** Status of this request */</span>
<a name="l00712"></a><a class="code" href="structocteon__user__request__info__t.html#03d9a6d95c9713704e25a881573caaf3">00712</a>    <a class="code" href="cavium__defs_8h.html#911a1a7fc11e850c7f96e0900ee8e4ed">octeon_req_status_t</a>       status;
<a name="l00713"></a>00713 <span class="comment"></span>
<a name="l00714"></a>00714 <span class="comment">  /** The request id assigned by driver to this request. Used by the</span>
<a name="l00715"></a>00715 <span class="comment">      application to query status of request (for UNORDERED NONBLOCKING calls)*/</span>
<a name="l00716"></a><a class="code" href="structocteon__user__request__info__t.html#bdb2fb1a992183de5fe82e7568d267bf">00716</a>    uint32_t                  request_id;
<a name="l00717"></a>00717 
<a name="l00718"></a>00718 } <a class="code" href="structocteon__user__request__info__t.html">octeon_user_request_info_t</a>;
<a name="l00719"></a>00719 
<a name="l00720"></a>00720 <span class="preprocessor">#define  OCT_USER_REQ_INFO_SIZE     (sizeof(octeon_user_request_info_t))</span>
<a name="l00721"></a>00721 <span class="preprocessor"></span>
<a name="l00722"></a>00722 
<a name="l00723"></a>00723 
<a name="l00724"></a>00724 
<a name="l00725"></a>00725 <span class="comment"></span>
<a name="l00726"></a>00726 <span class="comment">/**</span>
<a name="l00727"></a>00727 <span class="comment">  Structure for passing input and output buffers in the request structure.</span>
<a name="l00728"></a>00728 <span class="comment">*/</span>
<a name="l00729"></a><a class="code" href="structocteon__buffer__t.html">00729</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00730"></a>00730 <span class="comment"></span>
<a name="l00731"></a>00731 <span class="comment">  /** number of buffers */</span>
<a name="l00732"></a><a class="code" href="structocteon__buffer__t.html#823fb1fc1f6bd07fe08a764b3c42a2b8">00732</a>    uint32_t        cnt;
<a name="l00733"></a>00733 
<a name="l00734"></a><a class="code" href="structocteon__buffer__t.html#17501b0fc1a6a0b25adf4db0d3a6ca3b">00734</a>    uint32_t        rsvd;
<a name="l00735"></a>00735 <span class="comment"></span>
<a name="l00736"></a>00736 <span class="comment">  /** buffer pointers */</span>
<a name="l00737"></a><a class="code" href="structocteon__buffer__t.html#f188d53e1061b7ce11bc1b8d196cf639">00737</a>    <a class="code" href="unioncavium__ptr__t.html">cavium_ptr_t</a>   ptr[MAX_BUFCNT];
<a name="l00738"></a>00738 <span class="comment"></span>
<a name="l00739"></a>00739 <span class="comment">  /** their data sizes*/</span>
<a name="l00740"></a><a class="code" href="structocteon__buffer__t.html#1287cf269667f94c33d67df240e084f8">00740</a>    uint32_t       size[MAX_BUFCNT];
<a name="l00741"></a>00741 
<a name="l00742"></a>00742 } <a class="code" href="structocteon__buffer__t.html">octeon_buffer_t</a>;
<a name="l00743"></a>00743 
<a name="l00744"></a>00744 <span class="preprocessor">#define  OCT_SOFT_REQ_BUFPTR(buf, idx)   (buf-&gt;ptr[idx].addr)</span>
<a name="l00745"></a>00745 <span class="preprocessor"></span>
<a name="l00746"></a>00746 
<a name="l00747"></a>00747 
<a name="l00748"></a>00748 <span class="preprocessor">#if  !defined(CAVIUM_IN_KERNEL_MODE)</span>
<a name="l00749"></a>00749 <span class="preprocessor"></span>
<a name="l00750"></a><a class="code" href="cavium__defs_8h.html#7f2473ffb6b70a76034ce66047083322">00750</a> <span class="keyword">typedef</span> <a class="code" href="structocteon__user__request__info__t.html">octeon_user_request_info_t</a>  <a class="code" href="structocteon__request__info__t.html">octeon_request_info_t</a>;
<a name="l00751"></a>00751 <span class="preprocessor">#define OCT_REQ_INFO_SIZE       (sizeof(octeon_request_info_t))</span>
<a name="l00752"></a>00752 <span class="preprocessor"></span>
<a name="l00753"></a>00753 <span class="preprocessor">#else</span>
<a name="l00754"></a>00754 <span class="preprocessor"></span>
<a name="l00755"></a>00755 
<a name="l00756"></a>00756 
<a name="l00757"></a>00757 <span class="comment"></span>
<a name="l00758"></a>00758 <span class="comment">/** Information about the request sent to driver by kernel mode applications. */</span>
<a name="l00759"></a><a class="code" href="structocteon__request__info__t.html">00759</a> <span class="keyword">typedef</span> <span class="keyword">struct  </span>{
<a name="l00760"></a>00760 <span class="comment"></span>
<a name="l00761"></a>00761 <span class="comment">  /** The Octeon device to use for this request */</span>
<a name="l00762"></a><a class="code" href="structocteon__request__info__t.html#95a2030a85bd0a29014a38dc794f7c45">00762</a>    uint32_t                  octeon_id;
<a name="l00763"></a>00763 <span class="comment"></span>
<a name="l00764"></a>00764 <span class="comment">  /** The request mask */</span>
<a name="l00765"></a><a class="code" href="structocteon__request__info__t.html#d1b80273b3aaee35ae48f79a81a93c97">00765</a>    <a class="code" href="structocteon__request__mask__t.html">octeon_request_mask_t</a>     req_mask;
<a name="l00766"></a>00766 <span class="comment"></span>
<a name="l00767"></a>00767 <span class="comment">  /** timeout for this request */</span>
<a name="l00768"></a><a class="code" href="structocteon__request__info__t.html#0e6905951d99114d52a17b9befb41eb6">00768</a>    uint32_t                  timeout;
<a name="l00769"></a>00769 <span class="comment"></span>
<a name="l00770"></a>00770 <span class="comment">  /** Status of this request */</span>
<a name="l00771"></a><a class="code" href="structocteon__request__info__t.html#2b45caff5d3c14164e4155ca856e960f">00771</a>    <a class="code" href="cavium__defs_8h.html#911a1a7fc11e850c7f96e0900ee8e4ed">octeon_req_status_t</a>       status;
<a name="l00772"></a>00772 <span class="comment"></span>
<a name="l00773"></a>00773 <span class="comment">  /** The request id assigned by driver to this request */</span>
<a name="l00774"></a><a class="code" href="structocteon__request__info__t.html#3b81a1e0eec9ca074777e6d64654d74b">00774</a>    uint32_t                  request_id;
<a name="l00775"></a>00775 <span class="comment"></span>
<a name="l00776"></a>00776 <span class="comment">  /** The callback function to call after request completion */</span>
<a name="l00777"></a><a class="code" href="structocteon__request__info__t.html#f5329a73b16ccc90bffecf6c768aeb2a">00777</a>    <a class="code" href="cavium__defs_8h.html#fccf6d06d0803e93ef236af5d370ea30">instr_callback_t</a>          callback;
<a name="l00778"></a>00778 <span class="comment"></span>
<a name="l00779"></a>00779 <span class="comment">  /** Argument passed to callback */</span>
<a name="l00780"></a><a class="code" href="structocteon__request__info__t.html#5962c60d6e4a6cc0848199cc4b1bc9cc">00780</a>    <span class="keywordtype">void</span>                     *callback_arg;
<a name="l00781"></a>00781 
<a name="l00782"></a>00782 } <a class="code" href="structocteon__request__info__t.html">octeon_request_info_t</a>;
<a name="l00783"></a>00783 
<a name="l00784"></a>00784 <span class="preprocessor">#define OCT_REQ_INFO_SIZE       (sizeof(octeon_request_info_t))</span>
<a name="l00785"></a>00785 <span class="preprocessor"></span>
<a name="l00786"></a>00786 
<a name="l00787"></a>00787 <span class="preprocessor">#endif  </span><span class="comment">/* If in kernel mode */</span>
<a name="l00788"></a>00788 
<a name="l00789"></a>00789 
<a name="l00790"></a>00790 <span class="comment"></span>
<a name="l00791"></a>00791 <span class="comment">/** Information about the request sent to driver. This structure</span>
<a name="l00792"></a>00792 <span class="comment"> *  points to the input data buffer(s), to the output buffer(s) (if any)</span>
<a name="l00793"></a>00793 <span class="comment"> *  if a response is expected. It also keep information about the type of</span>
<a name="l00794"></a>00794 <span class="comment"> *  DMA, mode of operation (response order, mode etc).</span>
<a name="l00795"></a>00795 <span class="comment"> *  Several MACROS are defined to help access the fields.</span>
<a name="l00796"></a>00796 <span class="comment"> */</span>
<a name="l00797"></a><a class="code" href="structocteon__soft__request__t.html">00797</a> <span class="keyword">typedef</span> <span class="keyword">struct  </span>{
<a name="l00798"></a>00798 <span class="comment"></span>
<a name="l00799"></a>00799 <span class="comment">  /** The input buffers and their sizes. */</span>
<a name="l00800"></a><a class="code" href="structocteon__soft__request__t.html#5da32d11f44e90c56d2ec07e027a52f5">00800</a>     <a class="code" href="structocteon__buffer__t.html">octeon_buffer_t</a>             inbuf;
<a name="l00801"></a>00801 <span class="comment"></span>
<a name="l00802"></a>00802 <span class="comment">  /** The output buffer pointers and the size allocated at each pointer. */</span>
<a name="l00803"></a><a class="code" href="structocteon__soft__request__t.html#1e8287177fe90327a75e9f7d7e6a56fa">00803</a>     <a class="code" href="structocteon__buffer__t.html">octeon_buffer_t</a>             outbuf;
<a name="l00804"></a>00804 <span class="comment"></span>
<a name="l00805"></a>00805 <span class="comment">  /** The instruction header to be sent with this request to Octeon. */</span>
<a name="l00806"></a><a class="code" href="structocteon__soft__request__t.html#48ee5419ec613a43f2a92a467ee1ff8b">00806</a>     <a class="code" href="structocteon__instr__ih__t.html">octeon_instr_ih_t</a>           ih;
<a name="l00807"></a>00807 <span class="comment"></span>
<a name="l00808"></a>00808 <span class="comment">  /** The Input Request Header to be sent with the request to Octeon. */</span>
<a name="l00809"></a><a class="code" href="structocteon__soft__request__t.html#ac9d004f28837c8875d611edd3cc7310">00809</a>     <a class="code" href="structocteon__instr__irh__t.html">octeon_instr_irh_t</a>          irh;
<a name="l00810"></a>00810 <span class="comment"></span>
<a name="l00811"></a>00811 <span class="comment">  /** The extra headers (upto 4 64-bit words) for a 64-bytes instruction. */</span>
<a name="l00812"></a><a class="code" href="structocteon__soft__request__t.html#2a1c3a72adb87ad76bb3ea07a39a335d">00812</a>     uint64_t                    exhdr[4];
<a name="l00813"></a>00813 <span class="comment"></span>
<a name="l00814"></a>00814 <span class="comment">  /** Information about the formatting to be done to each extra header. */</span>
<a name="l00815"></a><a class="code" href="structocteon__soft__request__t.html#1ca3e899dba1da0676b53de124b50deb">00815</a>     <a class="code" href="structocteon__exhdr__info__t.html">octeon_exhdr_info_t</a>         exhdr_info;
<a name="l00816"></a>00816 <span class="comment"></span>
<a name="l00817"></a>00817 <span class="comment">  /** Additional information required for processing this request. Also</span>
<a name="l00818"></a>00818 <span class="comment">      driver returns an id identifying the request and the current status</span>
<a name="l00819"></a>00819 <span class="comment">      of the request in its fields.*/</span>
<a name="l00820"></a>00820     <span class="keyword">union </span>{
<a name="l00821"></a><a class="code" href="structocteon__soft__request__t.html#b3d2652fecda52a11750d548a1a9c435">00821</a>          uint64_t               addr64;
<a name="l00822"></a><a class="code" href="structocteon__soft__request__t.html#26c5ca6b4a8e3845108fc948d7ac3224">00822</a>          <a class="code" href="structocteon__request__info__t.html">octeon_request_info_t</a> *ptr;
<a name="l00823"></a>00823     } req_info;
<a name="l00824"></a>00824 
<a name="l00825"></a>00825 } <a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>;
<a name="l00826"></a>00826 
<a name="l00827"></a>00827 
<a name="l00828"></a>00828 <span class="preprocessor">#define OCT_SOFT_REQUEST_SIZE   (sizeof(octeon_soft_request_t))</span>
<a name="l00829"></a>00829 <span class="preprocessor"></span>
<a name="l00830"></a>00830 
<a name="l00831"></a>00831 <span class="preprocessor">#define  SOFT_REQ_INBUF(sr, idx)    ((sr)-&gt;inbuf.ptr[(idx)].addr)</span>
<a name="l00832"></a>00832 <span class="preprocessor"></span><span class="preprocessor">#define  SOFT_REQ_OUTBUF(sr, idx)   ((sr)-&gt;outbuf.ptr[(idx)].addr)</span>
<a name="l00833"></a>00833 <span class="preprocessor"></span><span class="preprocessor">#define  SOFT_REQ_INFO(sr)          ((sr)-&gt;req_info.ptr)</span>
<a name="l00834"></a>00834 <span class="preprocessor"></span><span class="preprocessor">#define  SOFT_REQ_IGNORE_SIGNAL(sr) ((sr)-&gt;req_info.ptr-&gt;req_mask.ignore_signal)</span>
<a name="l00835"></a>00835 <span class="preprocessor"></span>
<a name="l00836"></a>00836 <span class="preprocessor">#define GET_SOFT_REQ_DMA_MODE(sr)   ((sr)-&gt;req_info.ptr-&gt;req_mask.dma_mode)</span>
<a name="l00837"></a>00837 <span class="preprocessor"></span>
<a name="l00838"></a>00838 <span class="preprocessor">#define GET_SOFT_REQ_RESP_ORDER(sr) ((sr)-&gt;req_info.ptr-&gt;req_mask.resp_order)</span>
<a name="l00839"></a>00839 <span class="preprocessor"></span>
<a name="l00840"></a>00840 <span class="preprocessor">#define GET_SOFT_REQ_RESP_MODE(sr)  ((sr)-&gt;req_info.ptr-&gt;req_mask.resp_mode)</span>
<a name="l00841"></a>00841 <span class="preprocessor"></span>
<a name="l00842"></a>00842 <span class="preprocessor">#endif  </span><span class="comment">/* If not supporting deprecated */</span>
<a name="l00843"></a>00843 
<a name="l00844"></a>00844 
<a name="l00845"></a>00845 
<a name="l00846"></a>00846 <span class="comment"></span>
<a name="l00847"></a>00847 <span class="comment">/** Status of request as returned by octeon_process_request(). */</span>
<a name="l00848"></a><a class="code" href="unionocteon__instr__status__t.html">00848</a> <span class="keyword">typedef</span> <span class="keyword">union </span>{<span class="comment"></span>
<a name="l00849"></a>00849 <span class="comment">        /** Set to OCTEON_SOFT_INSTR_FAILED on failure.</span>
<a name="l00850"></a>00850 <span class="comment">            Else s.status has current status. */</span>
<a name="l00851"></a><a class="code" href="unionocteon__instr__status__t.html#8d368b7c67224c7b81728058cc1bcb52">00851</a>         uint64_t  u64;
<a name="l00852"></a>00852 <span class="preprocessor">#define OCTEON_REQUEST_FAILED  (~0ULL)</span>
<a name="l00853"></a>00853 <span class="preprocessor"></span>        <span class="keyword">struct </span>{<span class="comment"></span>
<a name="l00854"></a>00854 <span class="comment">                /** The request_id assigned by driver for this instruction.*/</span>
<a name="l00855"></a><a class="code" href="unionocteon__instr__status__t.html#12300ccd095a7df2bd10fa5afd04db1b">00855</a>                 uint64_t  request_id:32;
<a name="l00856"></a>00856 <span class="comment"></span>
<a name="l00857"></a>00857 <span class="comment">                /** The current status of this instruction. */</span>
<a name="l00858"></a>00858 
<a name="l00859"></a>00859         <span class="comment">/* Request status gives the reason if the request failed,</span>
<a name="l00860"></a>00860 <span class="comment">         * otherwise gives the status of request processing.</span>
<a name="l00861"></a>00861 <span class="comment">         */</span>
<a name="l00862"></a><a class="code" href="unionocteon__instr__status__t.html#56d7e4298cdcf8e22eea62f6e91de3d0">00862</a>                 uint64_t  status:31;
<a name="l00863"></a>00863         
<a name="l00864"></a>00864         <span class="comment">/* The driver sets this bit to 1 for all failure conditions.</span>
<a name="l00865"></a>00865 <span class="comment">         * The request has been queued successfully only if this bit is 0.</span>
<a name="l00866"></a>00866 <span class="comment">         */</span>
<a name="l00867"></a><a class="code" href="unionocteon__instr__status__t.html#f6d4c62e7d19c062aa9b8e738cf11601">00867</a>         uint64_t  error:1;
<a name="l00868"></a>00868         
<a name="l00869"></a>00869         }s;
<a name="l00870"></a>00870 } <a class="code" href="unionocteon__instr__status__t.html">octeon_instr_status_t</a>;
<a name="l00871"></a>00871 
<a name="l00872"></a>00872 
<a name="l00873"></a>00873 
<a name="l00874"></a>00874 
<a name="l00875"></a>00875 
<a name="l00876"></a>00876 
<a name="l00877"></a>00877 
<a name="l00878"></a>00878 
<a name="l00879"></a>00879 
<a name="l00880"></a>00880 
<a name="l00881"></a>00881 
<a name="l00882"></a>00882 
<a name="l00883"></a>00883 
<a name="l00884"></a>00884 
<a name="l00885"></a>00885 <span class="comment">/***          GET macros for the request structure     ***/</span>
<a name="l00886"></a>00886 
<a name="l00887"></a>00887 <span class="preprocessor">#define GET_REQ_INFO_DMA_MODE(reqinfo)     ((reqinfo)-&gt;req_mask.dma_mode)</span>
<a name="l00888"></a>00888 <span class="preprocessor"></span>
<a name="l00889"></a>00889 <span class="preprocessor">#define GET_REQ_INFO_RESP_ORDER(reqinfo)   ((reqinfo)-&gt;req_mask.resp_order)</span>
<a name="l00890"></a>00890 <span class="preprocessor"></span>
<a name="l00891"></a>00891 <span class="preprocessor">#define GET_REQ_INFO_RESP_MODE(reqinfo)    ((reqinfo)-&gt;req_mask.resp_mode)</span>
<a name="l00892"></a>00892 <span class="preprocessor"></span>
<a name="l00893"></a>00893 <span class="preprocessor">#define GET_REQ_INFO_IQ_NO(reqinfo)        ((reqinfo)-&gt;req_mask.iq_no)</span>
<a name="l00894"></a>00894 <span class="preprocessor"></span>
<a name="l00895"></a>00895 <span class="preprocessor">#define GET_REQ_INFO_OCTEON_ID(reqinfo)    ((reqinfo)-&gt;octeon_id)</span>
<a name="l00896"></a>00896 <span class="preprocessor"></span>
<a name="l00897"></a>00897 <span class="preprocessor">#define GET_REQ_INFO_STATUS(reqinfo)       ((reqinfo)-&gt;status)</span>
<a name="l00898"></a>00898 <span class="preprocessor"></span>
<a name="l00899"></a>00899 <span class="preprocessor">#define GET_REQ_INFO_REQUEST_ID(reqinfo)   ((reqinfo)-&gt;request_id)</span>
<a name="l00900"></a>00900 <span class="preprocessor"></span>
<a name="l00901"></a>00901 <span class="preprocessor">#define GET_SOFT_REQ_EXHDR_CNT(sreq)       ((sreq)-&gt;exhdr_info.exhdr_count)</span>
<a name="l00902"></a>00902 <span class="preprocessor"></span>
<a name="l00903"></a>00903 <span class="preprocessor">#define GET_SOFT_REQ_EXHDR(sreq, hdr_no)   ((sreq)-&gt;exhdr[hdr_no])</span>
<a name="l00904"></a>00904 <span class="preprocessor"></span>
<a name="l00905"></a>00905 <span class="keyword">static</span> __inline <a class="code" href="cavium__defs_8h.html#052ad70c338d8033e5ce777f66efce71">OCTEON_EXHDR_FMT</a>
<a name="l00906"></a><a class="code" href="cavium__defs_8h.html#a88469e9ffc8012b749545043ac3288c">00906</a> <a class="code" href="cavium__defs_8h.html#a88469e9ffc8012b749545043ac3288c">GET_SOFT_REQ_EXHDR_INFO</a>(<a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a> *soft_req_ptr,
<a name="l00907"></a>00907                         uint32_t                hdr_no)
<a name="l00908"></a>00908 {
<a name="l00909"></a>00909    <span class="keywordflow">switch</span>(hdr_no)  {
<a name="l00910"></a>00910        <span class="keywordflow">case</span> 0:   <span class="keywordflow">return</span>((<a class="code" href="cavium__defs_8h.html#052ad70c338d8033e5ce777f66efce71">OCTEON_EXHDR_FMT</a>)soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#1ca3e899dba1da0676b53de124b50deb">exhdr_info</a>.<a class="code" href="structocteon__exhdr__info__t.html#224cb4c604f2ee50501d1c1bbbe3b5e3">exhdr1_op</a>);
<a name="l00911"></a>00911        <span class="keywordflow">case</span> 1:   <span class="keywordflow">return</span>((OCTEON_EXHDR_FMT)soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#1ca3e899dba1da0676b53de124b50deb">exhdr_info</a>.<a class="code" href="structocteon__exhdr__info__t.html#b98223bd366a905a4ef99bca597bdc86">exhdr2_op</a>);
<a name="l00912"></a>00912        <span class="keywordflow">case</span> 2:   <span class="keywordflow">return</span>((OCTEON_EXHDR_FMT)soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#1ca3e899dba1da0676b53de124b50deb">exhdr_info</a>.<a class="code" href="structocteon__exhdr__info__t.html#4650b0698f8fcb687ffda21495d1cef8">exhdr3_op</a>);
<a name="l00913"></a>00913        <span class="keywordflow">case</span> 3:   <span class="keywordflow">return</span>((OCTEON_EXHDR_FMT)soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#1ca3e899dba1da0676b53de124b50deb">exhdr_info</a>.<a class="code" href="structocteon__exhdr__info__t.html#d2f82d628e624e9310c3e17704f296ce">exhdr4_op</a>);
<a name="l00914"></a>00914    }
<a name="l00915"></a>00915 
<a name="l00916"></a>00916    <span class="keywordflow">return</span> 0;
<a name="l00917"></a>00917 }
<a name="l00918"></a>00918 
<a name="l00919"></a>00919 
<a name="l00920"></a>00920 <span class="preprocessor">#define  GET_SOFT_REQ_REQUEST_ID(sr)    (SOFT_REQ_INFO(sr)-&gt;request_id)</span>
<a name="l00921"></a>00921 <span class="preprocessor"></span><span class="preprocessor">#define  GET_SOFT_REQ_OCTEON_ID(sr)     (SOFT_REQ_INFO(sr)-&gt;octeon_id)</span>
<a name="l00922"></a>00922 <span class="preprocessor"></span>
<a name="l00923"></a>00923 
<a name="l00924"></a>00924 <span class="preprocessor">#define SOFT_REQ_IS_RAW(sreq)           ((sreq)-&gt;ih.raw)</span>
<a name="l00925"></a>00925 <span class="preprocessor"></span>
<a name="l00926"></a>00926 
<a name="l00927"></a>00927 
<a name="l00928"></a>00928 
<a name="l00929"></a>00929 
<a name="l00930"></a>00930 <span class="comment">/***          SET macros for the request structure     ***/</span>
<a name="l00931"></a>00931 
<a name="l00932"></a>00932 
<a name="l00933"></a>00933 <span class="comment">/* *** Request Info Operations *** */</span>
<a name="l00934"></a>00934 
<a name="l00935"></a>00935 <span class="comment"></span>
<a name="l00936"></a>00936 <span class="comment">/** Set the DMA mode for a request info field.</span>
<a name="l00937"></a>00937 <span class="comment"> *  @param  req_info  - pointer to the request info field of the request.</span>
<a name="l00938"></a>00938 <span class="comment"> *  @param  dma_mode  - DMA mode in OCTEON_DMA_MODE enum format.</span>
<a name="l00939"></a>00939 <span class="comment"> */</span>
<a name="l00940"></a>00940 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l00941"></a><a class="code" href="cavium__defs_8h.html#fc97cd859346883b1a6d8b6634eda658">00941</a> <a class="code" href="cavium__defs_8h.html#fc97cd859346883b1a6d8b6634eda658">SET_REQ_INFO_DMA_MODE</a>(<a class="code" href="structocteon__request__info__t.html">octeon_request_info_t</a>  *req_info,
<a name="l00942"></a>00942                       <a class="code" href="cavium__defs_8h.html#515adf4ce9018391d2e146960d93ee61">OCTEON_DMA_MODE</a>         dma_mode)
<a name="l00943"></a>00943 {
<a name="l00944"></a>00944    req_info-&gt;<a class="code" href="structocteon__request__info__t.html#d1b80273b3aaee35ae48f79a81a93c97">req_mask</a>.<a class="code" href="structocteon__request__mask__t.html#1c71e257020bf94887e9d883e2a23c51">dma_mode</a> = dma_mode;
<a name="l00945"></a>00945 }
<a name="l00946"></a>00946 
<a name="l00947"></a>00947 <span class="comment"></span>
<a name="l00948"></a>00948 <span class="comment">/** Set the RESPONSE ORDER used for a request info field.</span>
<a name="l00949"></a>00949 <span class="comment"> *  @param  req_info   - pointer to the request info field of the request.</span>
<a name="l00950"></a>00950 <span class="comment"> *  @param  resp_order - RESPONSE ORDER in OCTEON_RESPONSE_ORDER enum format.</span>
<a name="l00951"></a>00951 <span class="comment"> */</span>
<a name="l00952"></a>00952 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l00953"></a><a class="code" href="cavium__defs_8h.html#c4f33c4e0206aa44e19f35d289201fd4">00953</a> <a class="code" href="cavium__defs_8h.html#c4f33c4e0206aa44e19f35d289201fd4">SET_REQ_INFO_RESP_ORDER</a>(<a class="code" href="structocteon__request__info__t.html">octeon_request_info_t</a>  *req_info,
<a name="l00954"></a>00954                         <a class="code" href="cavium__defs_8h.html#78af22777235089ae5ee3581e49811c4">OCTEON_RESPONSE_ORDER</a>   resp_order)
<a name="l00955"></a>00955 {
<a name="l00956"></a>00956    req_info-&gt;<a class="code" href="structocteon__request__info__t.html#d1b80273b3aaee35ae48f79a81a93c97">req_mask</a>.<a class="code" href="structocteon__request__mask__t.html#51d59127850a67b66e2c2d7aca41c4f0">resp_order</a> = resp_order;
<a name="l00957"></a>00957 }
<a name="l00958"></a>00958 
<a name="l00959"></a>00959 
<a name="l00960"></a>00960 <span class="comment"></span>
<a name="l00961"></a>00961 <span class="comment">/** Set the RESPONSE MODE used for a request info field.</span>
<a name="l00962"></a>00962 <span class="comment"> *  @param   req_info  - pointer to the request info field of the request.</span>
<a name="l00963"></a>00963 <span class="comment"> *  @param   resp_mode - RESPONSE MODE in OCTEON_RESPONSE_MODE enum format.</span>
<a name="l00964"></a>00964 <span class="comment"> */</span>
<a name="l00965"></a>00965 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l00966"></a><a class="code" href="cavium__defs_8h.html#219d02feafdd6457de211698106efd02">00966</a> <a class="code" href="cavium__defs_8h.html#219d02feafdd6457de211698106efd02">SET_REQ_INFO_RESP_MODE</a>(<a class="code" href="structocteon__request__info__t.html">octeon_request_info_t</a>  *req_info,
<a name="l00967"></a>00967                        <a class="code" href="cavium__defs_8h.html#8ebaf8d7f4722b078a98333bc234f530">OCTEON_RESPONSE_MODE</a>    resp_mode)
<a name="l00968"></a>00968 {
<a name="l00969"></a>00969    req_info-&gt;<a class="code" href="structocteon__request__info__t.html#d1b80273b3aaee35ae48f79a81a93c97">req_mask</a>.<a class="code" href="structocteon__request__mask__t.html#afe5d26f987a833ff530fc5b86921391">resp_mode</a> = resp_mode;
<a name="l00970"></a>00970 }
<a name="l00971"></a>00971 
<a name="l00972"></a>00972 
<a name="l00973"></a>00973 <span class="comment"></span>
<a name="l00974"></a>00974 <span class="comment">/** Set the INPUT QUEUE to use for a request info field.</span>
<a name="l00975"></a>00975 <span class="comment"> *  @param  req_info  - pointer to the request info field of the request.</span>
<a name="l00976"></a>00976 <span class="comment"> *  @param  iq_no     - instruction queue number (0 &lt;= q_no &lt;= 3).</span>
<a name="l00977"></a>00977 <span class="comment"> */</span>
<a name="l00978"></a>00978 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l00979"></a><a class="code" href="cavium__defs_8h.html#1a336667502518bdde6d600826f25235">00979</a> <a class="code" href="cavium__defs_8h.html#1a336667502518bdde6d600826f25235">SET_REQ_INFO_IQ_NO</a>(<a class="code" href="structocteon__request__info__t.html">octeon_request_info_t</a>  *req_info,
<a name="l00980"></a>00980                    uint32_t                   iq_no)
<a name="l00981"></a>00981 {
<a name="l00982"></a>00982   req_info-&gt;<a class="code" href="structocteon__request__info__t.html#d1b80273b3aaee35ae48f79a81a93c97">req_mask</a>.<a class="code" href="structocteon__request__mask__t.html#b1e85ba62b35b9aa83e888abd90c434a">iq_no</a> = (uint8_t) iq_no;
<a name="l00983"></a>00983 }
<a name="l00984"></a>00984 
<a name="l00985"></a>00985 <span class="comment"></span>
<a name="l00986"></a>00986 <span class="comment">/** Set the Octeon device id where this request is to be sent.</span>
<a name="l00987"></a>00987 <span class="comment"> *  @param  req_info  - pointer to the request info field of the request.</span>
<a name="l00988"></a>00988 <span class="comment"> *  @param  octeon_id - id of the octeon device.</span>
<a name="l00989"></a>00989 <span class="comment"> */</span>
<a name="l00990"></a>00990 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l00991"></a><a class="code" href="cavium__defs_8h.html#2adfce3d23db49c4af65ef6e5265d864">00991</a> <a class="code" href="cavium__defs_8h.html#2adfce3d23db49c4af65ef6e5265d864">SET_REQ_INFO_OCTEON_ID</a>(<a class="code" href="structocteon__request__info__t.html">octeon_request_info_t</a>  *req_info,
<a name="l00992"></a>00992                        uint32_t                  octeon_id  )
<a name="l00993"></a>00993 {
<a name="l00994"></a>00994   req_info-&gt;<a class="code" href="structocteon__request__info__t.html#95a2030a85bd0a29014a38dc794f7c45">octeon_id</a> = octeon_id;
<a name="l00995"></a>00995 }
<a name="l00996"></a>00996 
<a name="l00997"></a>00997 
<a name="l00998"></a>00998 <span class="comment"></span>
<a name="l00999"></a>00999 <span class="comment">/** Set the timeout value for this request.</span>
<a name="l01000"></a>01000 <span class="comment"> *  @param  req_info  - pointer to the request info field of the request.</span>
<a name="l01001"></a>01001 <span class="comment"> *  @param  timeout   - timeout in millisecs.</span>
<a name="l01002"></a>01002 <span class="comment"> */</span>
<a name="l01003"></a>01003 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01004"></a><a class="code" href="cavium__defs_8h.html#bc29cc26dbedc8620b32743c0546184e">01004</a> <a class="code" href="cavium__defs_8h.html#bc29cc26dbedc8620b32743c0546184e">SET_REQ_INFO_TIMEOUT</a>(<a class="code" href="structocteon__request__info__t.html">octeon_request_info_t</a>  *req_info,
<a name="l01005"></a>01005                      uint32_t                  timeout)
<a name="l01006"></a>01006 {
<a name="l01007"></a>01007   req_info-&gt;<a class="code" href="structocteon__request__info__t.html#0e6905951d99114d52a17b9befb41eb6">timeout</a> = timeout;
<a name="l01008"></a>01008 }
<a name="l01009"></a>01009 
<a name="l01010"></a>01010 
<a name="l01011"></a>01011 
<a name="l01012"></a>01012 <span class="preprocessor">#if  defined(CVM_SUPPORT_DEPRECATED_API) || defined(CAVIUM_IN_KERNEL_MODE)</span>
<a name="l01013"></a>01013 <span class="preprocessor"></span>
<a name="l01014"></a>01014 <span class="comment"></span>
<a name="l01015"></a>01015 <span class="comment">/** Set the callback for this request. This is available only for kernel</span>
<a name="l01016"></a>01016 <span class="comment"> *  mode requests. The driver calls this function when the request </span>
<a name="l01017"></a>01017 <span class="comment"> *  completes or is timed-out. The status is returned as the first parameter</span>
<a name="l01018"></a>01018 <span class="comment"> *  of the callback.</span>
<a name="l01019"></a>01019 <span class="comment"> *  @param  req_info  - pointer to the request info field of the request.</span>
<a name="l01020"></a>01020 <span class="comment"> *  @param  cb_fn     - the function to callback.</span>
<a name="l01021"></a>01021 <span class="comment"> *  @param  cb_arg    - The user specified argument returned to the user.</span>
<a name="l01022"></a>01022 <span class="comment"> */</span>
<a name="l01023"></a>01023 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01024"></a><a class="code" href="cavium__defs_8h.html#c8482371562452e970c1a0cf45a80a46">01024</a> <a class="code" href="cavium__defs_8h.html#c8482371562452e970c1a0cf45a80a46">SET_REQ_INFO_CALLBACK</a>(<a class="code" href="structocteon__request__info__t.html">octeon_request_info_t</a>  *req_info,
<a name="l01025"></a>01025                       <a class="code" href="cavium__defs_8h.html#fccf6d06d0803e93ef236af5d370ea30">instr_callback_t</a>        cb_fn,
<a name="l01026"></a>01026                       <span class="keywordtype">void</span>                    *cb_arg)
<a name="l01027"></a>01027 {
<a name="l01028"></a>01028   req_info-&gt;<a class="code" href="structocteon__request__info__t.html#f5329a73b16ccc90bffecf6c768aeb2a">callback</a>     = cb_fn;
<a name="l01029"></a>01029   req_info-&gt;<a class="code" href="structocteon__request__info__t.html#5962c60d6e4a6cc0848199cc4b1bc9cc">callback_arg</a> = cb_arg;
<a name="l01030"></a>01030 }
<a name="l01031"></a>01031 
<a name="l01032"></a>01032 
<a name="l01033"></a>01033 <span class="preprocessor">#endif</span>
<a name="l01034"></a>01034 <span class="preprocessor"></span>
<a name="l01035"></a>01035 
<a name="l01036"></a>01036 
<a name="l01037"></a>01037 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01038"></a><a class="code" href="cavium__defs_8h.html#9aee38116c02053636ac7600fc4d1d77">01038</a> <a class="code" href="cavium__defs_8h.html#9aee38116c02053636ac7600fc4d1d77">SET_REQ_INFO_REQUEST_ID</a>(<a class="code" href="structocteon__request__info__t.html">octeon_request_info_t</a>  *req_info,
<a name="l01039"></a>01039                         uint32_t                  req_id)
<a name="l01040"></a>01040 {
<a name="l01041"></a>01041    req_info-&gt;<a class="code" href="structocteon__request__info__t.html#3b81a1e0eec9ca074777e6d64654d74b">request_id</a> = req_id;
<a name="l01042"></a>01042 }
<a name="l01043"></a>01043 
<a name="l01044"></a>01044 <span class="comment">/* *** Request structure Operations *** */</span>
<a name="l01045"></a>01045 <span class="comment"></span>
<a name="l01046"></a>01046 <span class="comment">/** Set the DMA mode for this request.</span>
<a name="l01047"></a>01047 <span class="comment"> *  @param  soft_req_ptr  - pointer to the request structure.</span>
<a name="l01048"></a>01048 <span class="comment"> *  @param  dma_mode      - DMA mode in OCTEON_DMA_MODE enum format.</span>
<a name="l01049"></a>01049 <span class="comment"> */</span>
<a name="l01050"></a>01050 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01051"></a><a class="code" href="cavium__defs_8h.html#02811e995797b6b0c833a82f44d16bd2">01051</a> <a class="code" href="cavium__defs_8h.html#02811e995797b6b0c833a82f44d16bd2">SET_SOFT_REQ_DMA_MODE</a>(<a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>   *soft_req_ptr,
<a name="l01052"></a>01052                       <a class="code" href="cavium__defs_8h.html#515adf4ce9018391d2e146960d93ee61">OCTEON_DMA_MODE</a>          dma_mode)
<a name="l01053"></a>01053 {
<a name="l01054"></a>01054 <span class="preprocessor">#if defined(CVM_SUPPORT_DEPRECATED_API)</span>
<a name="l01055"></a>01055 <span class="preprocessor"></span>   soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#097da80f59ac184ae79303c1127e76fb">req_info</a>-&gt;req_mask.dma_mode = dma_mode;
<a name="l01056"></a>01056 <span class="preprocessor">#else</span>
<a name="l01057"></a>01057 <span class="preprocessor"></span>   soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#097da80f59ac184ae79303c1127e76fb">req_info</a>.<a class="code" href="structocteon__soft__request__t.html#26c5ca6b4a8e3845108fc948d7ac3224">ptr</a>-&gt;<a class="code" href="structocteon__request__info__t.html#d1b80273b3aaee35ae48f79a81a93c97">req_mask</a>.<a class="code" href="structocteon__request__mask__t.html#1c71e257020bf94887e9d883e2a23c51">dma_mode</a> = dma_mode;
<a name="l01058"></a>01058 <span class="preprocessor">#endif</span>
<a name="l01059"></a>01059 <span class="preprocessor"></span>}
<a name="l01060"></a>01060 
<a name="l01061"></a>01061 <span class="comment"></span>
<a name="l01062"></a>01062 <span class="comment">/** Set the RESPONSE ORDER used for this request.</span>
<a name="l01063"></a>01063 <span class="comment"> *  @param  soft_req_ptr  - pointer to the request structure.</span>
<a name="l01064"></a>01064 <span class="comment"> *  @param  resp_order - RESPONSE ORDER in OCTEON_RESPONSE_ORDER enum format.</span>
<a name="l01065"></a>01065 <span class="comment"> */</span>
<a name="l01066"></a>01066 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01067"></a><a class="code" href="cavium__defs_8h.html#00a8e5c05e04dbf7387692b549a41d61">01067</a> <a class="code" href="cavium__defs_8h.html#00a8e5c05e04dbf7387692b549a41d61">SET_SOFT_REQ_RESP_ORDER</a>(<a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>        *soft_req_ptr,
<a name="l01068"></a>01068             <a class="code" href="cavium__defs_8h.html#78af22777235089ae5ee3581e49811c4">OCTEON_RESPONSE_ORDER</a>         resp_order)
<a name="l01069"></a>01069 {
<a name="l01070"></a>01070 <span class="preprocessor">#if defined(CVM_SUPPORT_DEPRECATED_API)</span>
<a name="l01071"></a>01071 <span class="preprocessor"></span>   soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#097da80f59ac184ae79303c1127e76fb">req_info</a>-&gt;req_mask.resp_order = resp_order;
<a name="l01072"></a>01072 <span class="preprocessor">#else</span>
<a name="l01073"></a>01073 <span class="preprocessor"></span>   soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#097da80f59ac184ae79303c1127e76fb">req_info</a>.<a class="code" href="structocteon__soft__request__t.html#26c5ca6b4a8e3845108fc948d7ac3224">ptr</a>-&gt;<a class="code" href="structocteon__request__info__t.html#d1b80273b3aaee35ae48f79a81a93c97">req_mask</a>.<a class="code" href="structocteon__request__mask__t.html#51d59127850a67b66e2c2d7aca41c4f0">resp_order</a> = resp_order;
<a name="l01074"></a>01074 <span class="preprocessor">#endif</span>
<a name="l01075"></a>01075 <span class="preprocessor"></span>}
<a name="l01076"></a>01076 
<a name="l01077"></a>01077 <span class="comment"></span>
<a name="l01078"></a>01078 <span class="comment">/** Set the RESPONSE MODE used for a request.</span>
<a name="l01079"></a>01079 <span class="comment"> *  @param  soft_req_ptr  - pointer to the request structure.</span>
<a name="l01080"></a>01080 <span class="comment"> *  @param  resp_mode     - RESPONSE MODE in OCTEON_RESPONSE_MODE enum format.</span>
<a name="l01081"></a>01081 <span class="comment"> */</span>
<a name="l01082"></a>01082 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01083"></a><a class="code" href="cavium__defs_8h.html#a823c80b1a433f034a4439bdae206b9e">01083</a> <a class="code" href="cavium__defs_8h.html#a823c80b1a433f034a4439bdae206b9e">SET_SOFT_REQ_RESP_MODE</a>(<a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>       *soft_req_ptr,
<a name="l01084"></a>01084                        <a class="code" href="cavium__defs_8h.html#8ebaf8d7f4722b078a98333bc234f530">OCTEON_RESPONSE_MODE</a>         resp_mode)
<a name="l01085"></a>01085 {
<a name="l01086"></a>01086 <span class="preprocessor">#if defined(CVM_SUPPORT_DEPRECATED_API)</span>
<a name="l01087"></a>01087 <span class="preprocessor"></span>   soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#097da80f59ac184ae79303c1127e76fb">req_info</a>-&gt;req_mask.resp_mode = resp_mode;
<a name="l01088"></a>01088 <span class="preprocessor">#else</span>
<a name="l01089"></a>01089 <span class="preprocessor"></span>   soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#097da80f59ac184ae79303c1127e76fb">req_info</a>.<a class="code" href="structocteon__soft__request__t.html#26c5ca6b4a8e3845108fc948d7ac3224">ptr</a>-&gt;<a class="code" href="structocteon__request__info__t.html#d1b80273b3aaee35ae48f79a81a93c97">req_mask</a>.<a class="code" href="structocteon__request__mask__t.html#afe5d26f987a833ff530fc5b86921391">resp_mode</a> = resp_mode;
<a name="l01090"></a>01090 <span class="preprocessor">#endif</span>
<a name="l01091"></a>01091 <span class="preprocessor"></span>}
<a name="l01092"></a>01092 
<a name="l01093"></a>01093 
<a name="l01094"></a>01094 <span class="comment"></span>
<a name="l01095"></a>01095 <span class="comment">/** Set the count of extra headers used in this request.</span>
<a name="l01096"></a>01096 <span class="comment"> *  @param soft_req_ptr  - pointer to the request.</span>
<a name="l01097"></a>01097 <span class="comment"> *   @param count         - Number of extra headers.</span>
<a name="l01098"></a>01098 <span class="comment"> */</span>
<a name="l01099"></a>01099 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01100"></a><a class="code" href="cavium__defs_8h.html#8d79f9f26bb4641a7e898c7f9a35c075">01100</a> <a class="code" href="cavium__defs_8h.html#8d79f9f26bb4641a7e898c7f9a35c075">SET_SOFT_REQ_EXHDR_CNT</a>(<a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>   *soft_req_ptr,
<a name="l01101"></a>01101                        uint32_t                  count )
<a name="l01102"></a>01102 {
<a name="l01103"></a>01103    soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#1ca3e899dba1da0676b53de124b50deb">exhdr_info</a>.<a class="code" href="structocteon__exhdr__info__t.html#ffaaa0d0ab5a5cab51138e43828768ce">exhdr_count</a> = count;
<a name="l01104"></a>01104 }
<a name="l01105"></a>01105 
<a name="l01106"></a>01106  
<a name="l01107"></a>01107 <span class="comment"></span>
<a name="l01108"></a>01108 <span class="comment">/**  Set the format type of a extra header at index "hdr_no".</span>
<a name="l01109"></a>01109 <span class="comment">  *  @param soft_req_ptr  - pointer to soft request.</span>
<a name="l01110"></a>01110 <span class="comment">  *  @param hdr_no  - index of the header to be set (0 &lt;= hdr_no &lt;= 3).</span>
<a name="l01111"></a>01111 <span class="comment">  *  @param hdr_fmt - header format type enum OCTEON_EXHDR_FMT. </span>
<a name="l01112"></a>01112 <span class="comment">  */</span>
<a name="l01113"></a>01113 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01114"></a><a class="code" href="cavium__defs_8h.html#4d5f6793850ad4b1a0ad3be1aaeae083">01114</a> <a class="code" href="cavium__defs_8h.html#4d5f6793850ad4b1a0ad3be1aaeae083">SET_SOFT_REQ_EXHDR_INFO</a>(<a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>   *soft_req_ptr,
<a name="l01115"></a>01115                         uint32_t                  hdr_no,
<a name="l01116"></a>01116                         <a class="code" href="cavium__defs_8h.html#052ad70c338d8033e5ce777f66efce71">OCTEON_EXHDR_FMT</a>        hdr_fmt)
<a name="l01117"></a>01117 {
<a name="l01118"></a>01118    <span class="keywordflow">switch</span>(hdr_no)  {
<a name="l01119"></a>01119        <span class="keywordflow">case</span> 0:   soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#1ca3e899dba1da0676b53de124b50deb">exhdr_info</a>.<a class="code" href="structocteon__exhdr__info__t.html#224cb4c604f2ee50501d1c1bbbe3b5e3">exhdr1_op</a> = hdr_fmt;
<a name="l01120"></a>01120                  <span class="keywordflow">break</span>;
<a name="l01121"></a>01121        <span class="keywordflow">case</span> 1:   soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#1ca3e899dba1da0676b53de124b50deb">exhdr_info</a>.<a class="code" href="structocteon__exhdr__info__t.html#b98223bd366a905a4ef99bca597bdc86">exhdr2_op</a> = hdr_fmt;
<a name="l01122"></a>01122                  <span class="keywordflow">break</span>;
<a name="l01123"></a>01123        <span class="keywordflow">case</span> 2:   soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#1ca3e899dba1da0676b53de124b50deb">exhdr_info</a>.<a class="code" href="structocteon__exhdr__info__t.html#4650b0698f8fcb687ffda21495d1cef8">exhdr3_op</a> = hdr_fmt;
<a name="l01124"></a>01124                  <span class="keywordflow">break</span>;
<a name="l01125"></a>01125        <span class="keywordflow">case</span> 3:   soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#1ca3e899dba1da0676b53de124b50deb">exhdr_info</a>.<a class="code" href="structocteon__exhdr__info__t.html#d2f82d628e624e9310c3e17704f296ce">exhdr4_op</a> = hdr_fmt;
<a name="l01126"></a>01126                  <span class="keywordflow">break</span>;
<a name="l01127"></a>01127    }
<a name="l01128"></a>01128 }
<a name="l01129"></a>01129 
<a name="l01130"></a>01130 
<a name="l01131"></a>01131            <span class="comment">/* macros to set IRH fields in a request */</span>
<a name="l01132"></a>01132 <span class="comment"></span>
<a name="l01133"></a>01133 <span class="comment">/**  Set the opcode to be used for this request.</span>
<a name="l01134"></a>01134 <span class="comment"> *   @param soft_req_ptr - pointer to the soft request.</span>
<a name="l01135"></a>01135 <span class="comment"> *   @param opcode - operation code for this request (16-bits).</span>
<a name="l01136"></a>01136 <span class="comment"> */</span>
<a name="l01137"></a>01137 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01138"></a><a class="code" href="cavium__defs_8h.html#23a0637b49f879c9e371a75b1755c128">01138</a> <a class="code" href="cavium__defs_8h.html#23a0637b49f879c9e371a75b1755c128">SET_SOFT_REQ_OPCODE</a>(<a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>   *soft_req_ptr,
<a name="l01139"></a>01139                     <a class="code" href="cavium__defs_8h.html#8d41fded6a84bb67fc03f366d104a875">octeon_opcode_t</a>         opcode)
<a name="l01140"></a>01140 {
<a name="l01141"></a>01141    soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#ac9d004f28837c8875d611edd3cc7310">irh</a>.<a class="code" href="structocteon__instr__irh__t.html#3ce9b1f855f545827ddc4acdc0ce6a76">opcode</a>  = opcode;
<a name="l01142"></a>01142 }
<a name="l01143"></a>01143 
<a name="l01144"></a>01144 <span class="comment"></span>
<a name="l01145"></a>01145 <span class="comment">/** Set any additional parameter required for this operation request.</span>
<a name="l01146"></a>01146 <span class="comment"> *  @param soft_req_ptr - pointer to the soft request.</span>
<a name="l01147"></a>01147 <span class="comment"> *  @param param - additional 8-bit parameter for the operation.</span>
<a name="l01148"></a>01148 <span class="comment"> */</span>
<a name="l01149"></a>01149 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01150"></a><a class="code" href="cavium__defs_8h.html#ecb5c233fda50507a10585721f0313be">01150</a> <a class="code" href="cavium__defs_8h.html#ecb5c233fda50507a10585721f0313be">SET_SOFT_REQ_OPCODE_PARAM</a>(<a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>   *soft_req_ptr,
<a name="l01151"></a>01151                           uint8_t                   param)
<a name="l01152"></a>01152 {
<a name="l01153"></a>01153    soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#ac9d004f28837c8875d611edd3cc7310">irh</a>.<a class="code" href="structocteon__instr__irh__t.html#29c67b625be215a761442e292de7c807">param</a>  = param;
<a name="l01154"></a>01154 }
<a name="l01155"></a>01155 
<a name="l01156"></a>01156 <span class="comment"></span>
<a name="l01157"></a>01157 <span class="comment">/**  Set the destination port to be used by the core for sending the response.</span>
<a name="l01158"></a>01158 <span class="comment"> *   @param soft_req_ptr - pointer to the soft request.</span>
<a name="l01159"></a>01159 <span class="comment"> *   @param dport  - destination port (0 &lt;= dport &lt;= 35)</span>
<a name="l01160"></a>01160 <span class="comment"> */</span> 
<a name="l01161"></a>01161 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01162"></a><a class="code" href="cavium__defs_8h.html#f261bc26344718bb446e846b13b88da2">01162</a> <a class="code" href="cavium__defs_8h.html#f261bc26344718bb446e846b13b88da2">SET_SOFT_REQ_DESTPORT</a>(<a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>   *soft_req_ptr,
<a name="l01163"></a>01163                       uint8_t                   dport)
<a name="l01164"></a>01164 {
<a name="l01165"></a>01165    soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#ac9d004f28837c8875d611edd3cc7310">irh</a>.<a class="code" href="structocteon__instr__irh__t.html#c144fb570785abf6d50b0b4fc7016833">dport</a>  = dport;
<a name="l01166"></a>01166 }
<a name="l01167"></a>01167 
<a name="l01168"></a>01168 
<a name="l01169"></a>01169              <span class="comment">/*  Macros to set IH fields in a request */</span><span class="comment"></span>
<a name="l01170"></a>01170 <span class="comment">/** Set this request as a raw operation.</span>
<a name="l01171"></a>01171 <span class="comment"> *  @param soft_req_ptr - pointer to the soft request.</span>
<a name="l01172"></a>01172 <span class="comment"> */</span>
<a name="l01173"></a>01173 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01174"></a><a class="code" href="cavium__defs_8h.html#f236fe97847e34695a10b9c729b5268e">01174</a> <a class="code" href="cavium__defs_8h.html#f236fe97847e34695a10b9c729b5268e">SET_SOFT_REQ_RAW</a>(<a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>   *soft_req_ptr)
<a name="l01175"></a>01175 {
<a name="l01176"></a>01176    soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#48ee5419ec613a43f2a92a467ee1ff8b">ih</a>.<a class="code" href="structocteon__instr__ih__t.html#6426168783fa4b60e46d7e8d579ab20f">raw</a> = 1;
<a name="l01177"></a>01177 }
<a name="l01178"></a>01178 <span class="comment"></span>
<a name="l01179"></a>01179 <span class="comment">/** Set this request as a raw and short operation.</span>
<a name="l01180"></a>01180 <span class="comment"> *  @param soft_req_ptr - pointer to the soft request.</span>
<a name="l01181"></a>01181 <span class="comment"> */</span>
<a name="l01182"></a>01182 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01183"></a><a class="code" href="cavium__defs_8h.html#adc9063bebe316b8e4eb9b4cd1de76e1">01183</a> <a class="code" href="cavium__defs_8h.html#adc9063bebe316b8e4eb9b4cd1de76e1">SET_SOFT_REQ_SHORTRAW</a>(<a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>   *soft_req_ptr)
<a name="l01184"></a>01184 {
<a name="l01185"></a>01185    soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#48ee5419ec613a43f2a92a467ee1ff8b">ih</a>.<a class="code" href="structocteon__instr__ih__t.html#6426168783fa4b60e46d7e8d579ab20f">raw</a> = 1;
<a name="l01186"></a>01186    soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#48ee5419ec613a43f2a92a467ee1ff8b">ih</a>.<a class="code" href="structocteon__instr__ih__t.html#348ba553cceb3a50632b4dba51e1a8a4">rs</a>  = 1;
<a name="l01187"></a>01187 }
<a name="l01188"></a>01188 
<a name="l01189"></a>01189 
<a name="l01190"></a>01190 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01191"></a><a class="code" href="cavium__defs_8h.html#afa6d83a3cec41794842975be466679e">01191</a> <a class="code" href="cavium__defs_8h.html#afa6d83a3cec41794842975be466679e">SET_SOFT_REQ_FRONTDATA</a>(<a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>   *soft_req_ptr,
<a name="l01192"></a>01192                        uint8_t                   fsz)
<a name="l01193"></a>01193 {
<a name="l01194"></a>01194    soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#48ee5419ec613a43f2a92a467ee1ff8b">ih</a>.<a class="code" href="structocteon__instr__ih__t.html#0906a5923d067ec3c5479dbabe6ba30c">fsz</a> = fsz;
<a name="l01195"></a>01195 }
<a name="l01196"></a>01196 <span class="comment"></span>
<a name="l01197"></a>01197 <span class="comment">/** Set the tag and tagtype to be used for the request.</span>
<a name="l01198"></a>01198 <span class="comment"> *  @param soft_req_ptr - pointer to the soft request.</span>
<a name="l01199"></a>01199 <span class="comment"> *  @param tagtype - type of tag.</span>
<a name="l01200"></a>01200 <span class="comment"> *  @param tag  - tag value (32-bit).</span>
<a name="l01201"></a>01201 <span class="comment"> */</span>
<a name="l01202"></a>01202 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01203"></a><a class="code" href="cavium__defs_8h.html#ca6bd97bb5d060d51cf530ede59833a1">01203</a> <a class="code" href="cavium__defs_8h.html#ca6bd97bb5d060d51cf530ede59833a1">SET_SOFT_REQ_TAG</a>(<a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>   *soft_req_ptr,
<a name="l01204"></a>01204                  uint8_t                   tagtype,
<a name="l01205"></a>01205                  uint32_t                  tag)
<a name="l01206"></a>01206 {
<a name="l01207"></a>01207    soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#48ee5419ec613a43f2a92a467ee1ff8b">ih</a>.<a class="code" href="structocteon__instr__ih__t.html#a130ae459ce4356cc2ab203432b08956">tagtype</a> = tagtype;
<a name="l01208"></a>01208    soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#48ee5419ec613a43f2a92a467ee1ff8b">ih</a>.<a class="code" href="structocteon__instr__ih__t.html#7d91c16d80da229a6b4a0fa18adf804a">tag</a>     = tag;
<a name="l01209"></a>01209 }
<a name="l01210"></a>01210 
<a name="l01211"></a>01211 <span class="comment"></span>
<a name="l01212"></a>01212 <span class="comment">/**  Set the group for this request.</span>
<a name="l01213"></a>01213 <span class="comment"> *  @param soft_req_ptr - pointer to the soft request.</span>
<a name="l01214"></a>01214 <span class="comment"> *  @param group - core group that should operate on this request. (0 &lt;=group &lt;= 15)</span>
<a name="l01215"></a>01215 <span class="comment"> */</span>
<a name="l01216"></a>01216 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01217"></a><a class="code" href="cavium__defs_8h.html#4260a9c812bf4faac213ad042e96541b">01217</a> <a class="code" href="cavium__defs_8h.html#4260a9c812bf4faac213ad042e96541b">SET_SOFT_REQ_GROUP</a>(<a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>   *soft_req_ptr,
<a name="l01218"></a>01218                    uint8_t                   group)
<a name="l01219"></a>01219 {
<a name="l01220"></a>01220    soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#48ee5419ec613a43f2a92a467ee1ff8b">ih</a>.<a class="code" href="structocteon__instr__ih__t.html#30622e2f222501f246dab806f316a6c8">grp</a> = group;
<a name="l01221"></a>01221 }
<a name="l01222"></a>01222 
<a name="l01223"></a>01223 
<a name="l01224"></a>01224 
<a name="l01225"></a>01225 <span class="comment"></span>
<a name="l01226"></a>01226 <span class="comment">/**  Set the QOS value for this request. </span>
<a name="l01227"></a>01227 <span class="comment"> *  @param soft_req_ptr - pointer to the soft request.</span>
<a name="l01228"></a>01228 <span class="comment"> *  @param qos - qos for this request (0 &lt;= qos &lt;= 7)</span>
<a name="l01229"></a>01229 <span class="comment"> */</span>
<a name="l01230"></a>01230 <span class="keyword">static</span> __inline <span class="keywordtype">void</span>
<a name="l01231"></a><a class="code" href="cavium__defs_8h.html#53223fd0931802d8f51b4699d671a7b7">01231</a> <a class="code" href="cavium__defs_8h.html#53223fd0931802d8f51b4699d671a7b7">SET_SOFT_REQ_QOS</a>(<a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>   *soft_req_ptr,
<a name="l01232"></a>01232                  uint8_t                   qos)
<a name="l01233"></a>01233 {
<a name="l01234"></a>01234    soft_req_ptr-&gt;<a class="code" href="structocteon__soft__request__t.html#48ee5419ec613a43f2a92a467ee1ff8b">ih</a>.<a class="code" href="structocteon__instr__ih__t.html#6501a7c75450eb1540098d62c48a2b05">qos</a> = qos;
<a name="l01235"></a>01235 }
<a name="l01236"></a>01236 
<a name="l01237"></a>01237 
<a name="l01238"></a>01238 
<a name="l01239"></a>01239 <span class="comment"></span>
<a name="l01240"></a>01240 <span class="comment">/** Structure used when querying the status of a pending request. */</span>
<a name="l01241"></a><a class="code" href="structocteon__query__request__t.html">01241</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l01242"></a>01242 <span class="comment"></span>
<a name="l01243"></a>01243 <span class="comment">  /** The octeon device to query. */</span>
<a name="l01244"></a><a class="code" href="structocteon__query__request__t.html#48bf46821e27850e16f71fa97d4eb269">01244</a>    uint32_t   octeon_id;
<a name="l01245"></a>01245 <span class="comment"></span>
<a name="l01246"></a>01246 <span class="comment">  /** The id of the request for which we need status. */</span>
<a name="l01247"></a><a class="code" href="structocteon__query__request__t.html#c921d531dff651f1e089b11365e03fd0">01247</a>    uint32_t   request_id;
<a name="l01248"></a>01248 <span class="comment"></span>
<a name="l01249"></a>01249 <span class="comment">  /** The status will be returned here by the driver */</span>
<a name="l01250"></a><a class="code" href="structocteon__query__request__t.html#3946d8127d84002677f5550d1edad046">01250</a>    <a class="code" href="cavium__defs_8h.html#911a1a7fc11e850c7f96e0900ee8e4ed">octeon_req_status_t</a>   status;
<a name="l01251"></a>01251 
<a name="l01252"></a>01252 } <a class="code" href="structocteon__query__request__t.html">octeon_query_request_t</a>;
<a name="l01253"></a>01253 
<a name="l01254"></a>01254 
<a name="l01255"></a>01255 <span class="preprocessor">#define  OCT_QUERY_REQUEST_SIZE     (sizeof(octeon_query_request_t))</span>
<a name="l01256"></a>01256 <span class="preprocessor"></span>
<a name="l01257"></a>01257 
<a name="l01258"></a>01258 
<a name="l01259"></a>01259 
<a name="l01260"></a>01260 
<a name="l01261"></a>01261 <span class="comment">/*------------------------------   INPUT   QUEUE  -------------------------*/</span>
<a name="l01262"></a>01262 <span class="comment"></span>
<a name="l01263"></a>01263 <span class="comment">/** Each instruction queue can operate in 32-byte or 64-byte instruction </span>
<a name="l01264"></a>01264 <span class="comment">    mode. */</span>
<a name="l01265"></a><a class="code" href="cavium__defs_8h.html#d5c654aebf145042c5250cdec829aada">01265</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l01266"></a>01266      <a class="code" href="cavium__defs_8h.html#d5c654aebf145042c5250cdec829aada54a30c3a4855a441e2f67472a30418d7">IQ_MODE_32</a>=0,
<a name="l01267"></a>01267      <a class="code" href="cavium__defs_8h.html#d5c654aebf145042c5250cdec829aadab5f62520997ee8570b84a773bf5d0746">IQ_MODE_64</a>=1
<a name="l01268"></a>01268 } <a class="code" href="cavium__defs_8h.html#d5c654aebf145042c5250cdec829aada">OCTEON_IQ_INSTRUCTION_MODE</a>;
<a name="l01269"></a>01269 
<a name="l01270"></a>01270 
<a name="l01271"></a>01271 
<a name="l01272"></a>01272 
<a name="l01273"></a>01273 
<a name="l01274"></a>01274 
<a name="l01275"></a>01275 
<a name="l01276"></a>01276 
<a name="l01277"></a>01277 
<a name="l01278"></a>01278 
<a name="l01279"></a>01279 
<a name="l01280"></a>01280 <span class="comment">/*-----------REGISTER READ/WRITE structs and defines------------*/</span>
<a name="l01281"></a>01281 <span class="comment"></span>
<a name="l01282"></a>01282 <span class="comment">/** PCI mapped space for a Octeon device. */</span>
<a name="l01283"></a><a class="code" href="cavium__defs_8h.html#9f29abf9e75f8b37e2159819f61ec047">01283</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l01284"></a>01284   <a class="code" href="cavium__defs_8h.html#9f29abf9e75f8b37e2159819f61ec0477f316e40a61a442b5d20ce2908e941c7">PCI_CFG</a>         = 0, <span class="comment">/**&lt; Config space */</span>
<a name="l01285"></a>01285   <a class="code" href="cavium__defs_8h.html#9f29abf9e75f8b37e2159819f61ec0471e614947630ccb60b14f418bdf7dfcb7">PCI_BAR0_MAPPED</a> = 1, <span class="comment">/**&lt; BAR0 has the CSR's */</span>
<a name="l01286"></a>01286   <a class="code" href="cavium__defs_8h.html#9f29abf9e75f8b37e2159819f61ec0475760c98897ab68df33c011428fec6e36">PCI_BAR2_MAPPED</a> = 2, <span class="comment">/**&lt; BAR2 indirectly maps Octeon core memory */</span>
<a name="l01287"></a>01287   <a class="code" href="cavium__defs_8h.html#9f29abf9e75f8b37e2159819f61ec04714eb4623cc00de10d3741c9a62e734ef">PCI_BAR4_MAPPED</a> = 3, <span class="comment">/**&lt; BAR4 maps the Octeon core memory directly */</span>
<a name="l01288"></a><a class="code" href="cavium__defs_8h.html#9f29abf9e75f8b37e2159819f61ec0475885827a5db464de0321547c22400ea2">01288</a>   <a class="code" href="cavium__defs_8h.html#9f29abf9e75f8b37e2159819f61ec0475885827a5db464de0321547c22400ea2">WINDOWED</a>        = 4  <span class="comment">/**&lt; Indirect access to Octeon registers. */</span>
<a name="l01289"></a>01289 } <a class="code" href="cavium__defs_8h.html#9f29abf9e75f8b37e2159819f61ec047">octeon_reg_type_t</a>;
<a name="l01290"></a>01290 
<a name="l01291"></a>01291 <span class="comment"></span>
<a name="l01292"></a>01292 <span class="comment">/** Structure used to pass register address and values to write/read.</span>
<a name="l01293"></a>01293 <span class="comment">    This structure is passed by user apps to pass parameters to </span>
<a name="l01294"></a>01294 <span class="comment">    register read/write ioctls. */</span>
<a name="l01295"></a><a class="code" href="structocteon__rw__reg__buf__t.html">01295</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l01296"></a>01296 <span class="comment"></span>
<a name="l01297"></a>01297 <span class="comment">  /** The octeon device to which the ioctl operation should be sent */</span>
<a name="l01298"></a><a class="code" href="structocteon__rw__reg__buf__t.html#886b70cd5d57007c12049ea217bc4f99">01298</a>   <span class="keywordtype">int</span> oct_id;
<a name="l01299"></a>01299 <span class="comment"></span>
<a name="l01300"></a>01300 <span class="comment">  /** Type of PCI space in which the register in mapped. */</span>
<a name="l01301"></a><a class="code" href="structocteon__rw__reg__buf__t.html#26469a6214ac2572e3b1e16bd6ea5518">01301</a>   <a class="code" href="cavium__defs_8h.html#9f29abf9e75f8b37e2159819f61ec047">octeon_reg_type_t</a> type;
<a name="l01302"></a>01302 <span class="comment"></span>
<a name="l01303"></a>01303 <span class="comment">  /** Address of the register to read/write. */</span>
<a name="l01304"></a><a class="code" href="structocteon__rw__reg__buf__t.html#debc438b5f458cf82ffd575a8fec2946">01304</a>   uint64_t addr;
<a name="l01305"></a>01305 <span class="comment"></span>
<a name="l01306"></a>01306 <span class="comment">  /** Value to write OR Value read from register */</span>
<a name="l01307"></a><a class="code" href="structocteon__rw__reg__buf__t.html#618d1b4799b486cd532c2fe81d7204ec">01307</a>   uint64_t val;
<a name="l01308"></a>01308 
<a name="l01309"></a>01309 }<a class="code" href="structocteon__rw__reg__buf__t.html">octeon_rw_reg_buf_t</a>;
<a name="l01310"></a>01310 
<a name="l01311"></a>01311 <span class="preprocessor">#define OCTEON_RW_REG_BUF_SIZE    (sizeof(octeon_rw_reg_buf_t))</span>
<a name="l01312"></a>01312 <span class="preprocessor"></span>
<a name="l01313"></a>01313 
<a name="l01314"></a>01314 <span class="comment"></span>
<a name="l01315"></a>01315 <span class="comment">/** Octeon core memory Read/Write operations from user-application using </span>
<a name="l01316"></a>01316 <span class="comment">  * Octeon BAR1 access provide information in this structure.</span>
<a name="l01317"></a>01317 <span class="comment">  */</span>
<a name="l01318"></a><a class="code" href="structocteon__core__mem__rw__t.html">01318</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l01319"></a><a class="code" href="structocteon__core__mem__rw__t.html#e5c58c543ec03ae4dd486a5c5e1fdb5f">01319</a>    uint32_t   oct_id;      <span class="comment">/**&lt; The Octeon device id to which the op is sent. */</span>
<a name="l01320"></a><a class="code" href="structocteon__core__mem__rw__t.html#6fad0bf92815a0ea854649889113f121">01320</a>    uint32_t   size;        <span class="comment">/**&lt; Size of data to read/write. */</span> 
<a name="l01321"></a><a class="code" href="structocteon__core__mem__rw__t.html#2cb91b0aaebb5c2d46517ca1fd8e4445">01321</a>    uint32_t   endian;      <span class="comment">/**&lt; The endian-swap mode to use for the operation. */</span>
<a name="l01322"></a><a class="code" href="structocteon__core__mem__rw__t.html#6f4771be6eb138de68933d724ff1b126">01322</a>    uint32_t   bar1_index;  <span class="comment">/**&lt; The BAR1 index register to use for this op. */</span>
<a name="l01323"></a><a class="code" href="structocteon__core__mem__rw__t.html#e9bd420d28cc8acd920cd7251518f5b4">01323</a>    uint64_t   addr;        <span class="comment">/**&lt; The core memory address to read/write. */</span>
<a name="l01324"></a><a class="code" href="structocteon__core__mem__rw__t.html#81860e348a12aeb34b8f03c5476e7ecc">01324</a>    <span class="keywordtype">void</span>    *data;        <span class="comment">/**&lt; Pointer to the data buffer to write/read. */</span>
<a name="l01325"></a>01325 } <a class="code" href="structocteon__core__mem__rw__t.html">octeon_core_mem_rw_t</a>;
<a name="l01326"></a>01326 
<a name="l01327"></a>01327 <span class="preprocessor">#define OCTEON_CORE_MEM_RW_SIZE    (sizeof(octeon_core_mem_rw_t))</span>
<a name="l01328"></a>01328 <span class="preprocessor"></span>
<a name="l01329"></a>01329 
<a name="l01330"></a>01330 
<a name="l01331"></a>01331 
<a name="l01332"></a>01332 
<a name="l01333"></a>01333 <span class="comment"></span>
<a name="l01334"></a>01334 <span class="comment">/**   The entry point for kernel applications to send requests to</span>
<a name="l01335"></a>01335 <span class="comment"> *    Octeon device. All requests for Octeon arrive as a soft_request</span>
<a name="l01336"></a>01336 <span class="comment"> *    to this routine. This routine formats the requests to the driver's</span>
<a name="l01337"></a>01337 <span class="comment"> *    internal format and posts it to Octeon Input queue. When the routine</span>
<a name="l01338"></a>01338 <span class="comment"> *    returns successfully, the request should have been scheduled for </span>
<a name="l01339"></a>01339 <span class="comment"> *    fetching by the Octeon Input queue hardware.</span>
<a name="l01340"></a>01340 <span class="comment"> *</span>
<a name="l01341"></a>01341 <span class="comment"> *    @param  octeon_id  -  the request is meant for this octeon device.</span>
<a name="l01342"></a>01342 <span class="comment"> *    @param  soft_req   -  the soft request structure. </span>
<a name="l01343"></a>01343 <span class="comment"> *    @return A compound structure that stores the status and the request id</span>
<a name="l01344"></a>01344 <span class="comment"> *            of the request if the request was queued successfully. If the</span>
<a name="l01345"></a>01345 <span class="comment"> *            request failed, the 64-bit value in the structure reads as -1.</span>
<a name="l01346"></a>01346 <span class="comment"> */</span>
<a name="l01347"></a>01347 <a class="code" href="unionocteon__instr__status__t.html">octeon_instr_status_t</a>
<a name="l01348"></a>01348 <a class="code" href="cavium__defs_8h.html#d68b6de4ff772f399ab4efcbe0a7ad26">octeon_process_request</a>(uint32_t                octeon_id,
<a name="l01349"></a>01349                        <a class="code" href="structocteon__soft__request__t.html">octeon_soft_request_t</a>  *soft_req);
<a name="l01350"></a>01350 
<a name="l01351"></a>01351 <span class="comment"></span>
<a name="l01352"></a>01352 <span class="comment">/**  Query the status of a previously posted request. The request id that</span>
<a name="l01353"></a>01353 <span class="comment"> *   identifies the request should be passed in the query parameter. The</span>
<a name="l01354"></a>01354 <span class="comment"> *   driver returns the status in the status field of query.</span>
<a name="l01355"></a>01355 <span class="comment"> *   @param octeon_id  - query the request sent to this device.</span>
<a name="l01356"></a>01356 <span class="comment"> *   @param query      - request id is sent by caller. the status is returned</span>
<a name="l01357"></a>01357 <span class="comment"> *                       by driver.</span>
<a name="l01358"></a>01358 <span class="comment"> *   @return Success: 0; Failure: 1</span>
<a name="l01359"></a>01359 <span class="comment"> */</span>
<a name="l01360"></a>01360 uint32_t
<a name="l01361"></a>01361 <a class="code" href="cavium__defs_8h.html#0247637b765fa6e784a9cf18dc374302">octeon_query_request_status</a>(uint32_t                 octeon_id,
<a name="l01362"></a>01362                             <a class="code" href="structocteon__query__request__t.html">octeon_query_request_t</a>  *query);
<a name="l01363"></a>01363 
<a name="l01364"></a>01364 
<a name="l01365"></a>01365 
<a name="l01366"></a>01366 <span class="preprocessor">#endif  </span><span class="comment">/*  _CAVIUM_DEFS_H  */</span>
<a name="l01367"></a>01367 
<a name="l01368"></a>01368 <span class="comment">/* $Id: cavium_defs.h 63638 2011-08-19 01:06:48Z panicker $ */</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Nov 22 15:40:59 2011 for Octeon PCI Driver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
